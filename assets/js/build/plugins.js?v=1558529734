var f,r,pluginEmbedLoadLazyVideo=function(){var t=this.parentNode,e=t.children[0];e.src=e.dataset.src,t.removeChild(this)};document.addEventListener("DOMContentLoaded",function(t){for(var e=document.getElementsByClassName("embed__thumb"),i=0;i<e.length;i++)e[i].addEventListener("click",pluginEmbedLoadLazyVideo,!1)});var _createClass=function(){function n(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Marquee3k=function(){function o(t,e){_classCallCheck(this,o),this.element=t,this.selector=e.selector,this.speed=t.dataset.speed||.25,this.pausable=t.dataset.pausable,this.reverse=t.dataset.reverse,this.paused=!1,this.parent=t.parentElement,this.parentProps=this.parent.getBoundingClientRect(),this.content=t.children[0],this.innerContent=this.content.innerHTML,this.wrapStyles="",this.offset=0,this._setupWrapper(),this._setupContent(),this._setupEvents(),this.wrapper.appendChild(this.content),this.element.appendChild(this.wrapper)}return _createClass(o,[{key:"_setupWrapper",value:function(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("marquee3k__wrapper"),this.wrapper.style.whiteSpace="nowrap"}},{key:"_setupContent",value:function(){this.content.classList.add("item-marquee__copy"),this.content.style.display="inline-block",this.contentWidth=this.content.offsetWidth,this.requiredReps=this.contentWidth>this.parentProps.width?2:Math.ceil((this.parentProps.width-this.contentWidth)/this.contentWidth)+1;for(var t=0;t<this.requiredReps;t++)this._createClone();this.reverse&&(this.offset=-1*this.contentWidth),this.element.classList.add("is-init")}},{key:"_setupEvents",value:function(){var t=this;this.element.addEventListener("mouseenter",function(){t.pausable&&(t.paused=!0)}),this.element.addEventListener("mouseleave",function(){t.pausable&&(t.paused=!1)})}},{key:"_createClone",value:function(){var t=this.content.cloneNode(!0);t.style.display="inline-block",t.classList.add(this.selector+"__copy"),this.wrapper.appendChild(t)}},{key:"animate",value:function(){if(!this.paused){var t=this.reverse?this.offset<0:this.offset>-1*this.contentWidth,e=this.reverse?-1:1,i=this.reverse?-1*this.contentWidth:0;t?this.offset-=this.speed*e:this.offset=i,this.wrapper.style.whiteSpace="nowrap",this.wrapper.style.transform="translate("+this.offset+"px, 0) translateZ(0)"}}},{key:"_refresh",value:function(){this.contentWidth=this.content.offsetWidth}},{key:"repopulate",value:function(t,e){if(this.contentWidth=this.content.offsetWidth,e)for(var i=Math.ceil(t/this.contentWidth)+1,n=0;n<i;n++)this._createClone()}}],[{key:"refresh",value:function(t){MARQUEES[t]._refresh()}},{key:"refreshAll",value:function(){for(var t=0;t<MARQUEES.length;t++)MARQUEES[t]._refresh()}},{key:"init",value:function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{selector:"marquee3k"};window.cancelAnimationFrame(r),window.MARQUEES=[];for(var e=Array.from(document.querySelectorAll(t.selector)),s=window.innerWidth,i=0;i<e.length;i++){var a=new o(e[i],t);MARQUEES.push(a)}(function t(){for(var e=0;e<MARQUEES.length;e++)MARQUEES[e].animate();r=window.requestAnimationFrame(t)})(),window.addEventListener("resize",function(){clearTimeout(f),f=setTimeout(function(){for(var t=s<window.innerWidth,e=window.innerWidth-s,i=0;i<MARQUEES.length;i++)MARQUEES[i].repopulate(e,t);s=n.innerWidth})},250)}}]),o}();!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Headroom=e()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function n(t,e){var i;e=function t(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var i,n,s,a=e||{};for(n=1;n<arguments.length;n++){var o=arguments[n]||{};for(i in o)"object"!=typeof a[i]||(s=a[i])&&"undefined"!=typeof window&&(s===window||s.nodeType)?a[i]=a[i]||o[i]:a[i]=t(a[i],o[i])}return a}(e,n.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=(i=e.tolerance)===Object(i)?i:{down:i,up:i},this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}var e={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},n.prototype={constructor:n,init:function(){if(n.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;for(var e in this.initialised=!1,t)t.hasOwnProperty(e)&&this.elem.classList.remove(t[e]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,i=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||i},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var i=t>this.lastKnownScrollY,n=t>=this.offset;return i&&n&&e},shouldPin:function(t,e){var i=t<this.lastKnownScrollY,n=t<=this.offset;return i&&e||n},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,i)?this.unpin():this.shouldPin(t,i)&&this.pin(),this.lastKnownScrollY=t)}},n.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},n.cutsTheMustard=void 0!==e&&e.rAF&&e.bind&&e.classList,n}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Amplitude",[],e):"object"==typeof exports?exports.Amplitude=e():t.Amplitude=e()}(this,function(){return function(i){function n(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var s={};return n.m=i,n.c=s,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e,i){"use strict";var n={version:"3.2.3",active_song:new Audio,active_metadata:{},active_album:"",active_index:0,active_playlist:"",autoplay:!1,playback_speed:1,callbacks:{},songs:[],playlists:{},shuffled_playlists:{},shuffled_statuses:{},shuffled_active_indexes:{},repeat:!1,shuffle_list:{},shuffle_on:!1,shuffle_active_index:0,default_album_art:"",debug:!1,volume:.5,pre_mute_volume:.5,volume_increment:5,volume_decrement:5,soundcloud_client:"",soundcloud_use_art:!1,soundcloud_song_count:0,soundcloud_songs_ready:0,is_touch_moving:!1,buffered:0,bindings:{},continue_next:!0};t.exports=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(3)),l=n(i(2)),r=i(0),s=function(){function i(t){r.debug&&console.log(t)}function s(t){if(r.callbacks[t]){var e=r.callbacks[t];i("Running Callback: "+t);try{e()}catch(t){if("CANCEL EVENT"==t.message)throw t;i("Callback error: "+t.message)}}}function a(t){return r.active_album!=t}function n(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}return{resetConfig:function(){r.active_song=new Audio,r.active_metadata={},r.active_album="",r.active_index=0,r.active_playlist="",r.autoplay=!1,r.playback_speed=1,r.callbacks={},r.songs=[],r.playlists={},r.shuffled_playlists={},r.shuffled_statuses={},r.repeat=!1,r.shuffle_list={},r.shuffle_on=!1,r.shuffle_active_index=0,r.default_album_art="",r.debug=!1,r.handle_song_elements=!0,r.volume=.5,r.pre_mute_volume=.5,r.volume_increment=5,r.volume_decrement=5,r.soundcloud_client="",r.soundcloud_use_art=!1,r.soundcloud_song_count=0,r.soundcloud_songs_ready=0,r.continue_next=!0},writeDebugMessage:i,runCallback:s,changeSong:function(t){var e,i,n=r.songs[t];o.default.stop(),l.default.setPlayPauseButtonsToPause(),l.default.resetSongSliders(),l.default.resetSongPlayedProgressBars(),l.default.resetTimes(),a(n)&&s("album_change"),e=n,i=t,r.active_song.src=e.url,r.active_metadata=e,r.active_album=e.album,r.active_index=i,l.default.displaySongMetadata(),l.default.setActiveContainer(),l.default.syncSongDuration(),s("song_change")},checkNewSong:function(t){return t!=r.active_index},checkNewAlbum:a,checkNewPlaylist:function(t){return r.active_playlist!=t},shuffleSongs:function(){for(var t=new Array(r.songs.length),e=0;e<r.songs.length;e++)t[e]=r.songs[e],t[e].original_index=e;for(e=r.songs.length-1;0<e;e--)n(t,e,Math.floor(Math.random()*r.songs.length+1)-1);r.shuffle_list=t},shufflePlaylistSongs:function(t){for(var e=new Array(r.playlists[t].length),i=0;i<r.playlists[t].length;i++)e[i]=r.songs[r.playlists[t][i]],e[i].original_index=i;for(i=r.playlists[t].length-1;0<i;i--)n(e,i,Math.floor(Math.random()*r.playlists[t].length+1)-1);r.shuffled_playlists[t]=e},setActivePlaylist:function(t){r.active_playlist!=t&&s("playlist_changed"),r.active_playlist=t},isURL:function(t){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)},isInt:function(t){return!isNaN(t)&&parseInt(Number(t))==t&&!isNaN(parseInt(t,10))}}}();e.default=s,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(0)),a=n(i(10)),s=function(){function i(t){t=isNaN(t)?0:t;for(var e=document.querySelectorAll('.amplitude-song-slider[amplitude-main-song-slider="true"]'),i=0;i<e.length;i++)e[i].value=t}function n(t,e){e=isNaN(e)?0:e;for(var i=document.querySelectorAll('.amplitude-song-slider[amplitude-playlist-song-slider="true"][amplitude-playlist="'+t+'"]'),n=0;n<i.length;n++)i[n].value=e}function s(t,e,i){if(i=isNaN(i)?0:i,""!=t&&null!=t)for(var n=document.querySelectorAll('.amplitude-song-slider[amplitude-playlist="'+t+'"][amplitude-song-index="'+e+'"]'),s=0;s<n.length;s++)n[s].value=i;else for(n=document.querySelectorAll('.amplitude-song-slider[amplitude-song-index="'+e+'"]'),s=0;s<n.length;s++)n[s].hasAttribute("amplitude-playlist")||0!=i&&(n[s].value=i)}return{syncCurrentTime:function(t,e){a.default.syncCurrentHours(t.hours),a.default.syncCurrentMinutes(t.minutes),a.default.syncCurrentSeconds(t.seconds),a.default.syncCurrentTime(t),i(e),n(o.default.active_playlist,e),s(o.default.active_playlist,o.default.active_index,e),a.default.syncSongPlayedProgressBar(e)},resetTimes:function(){a.default.resetCurrentHours(),a.default.resetCurrentMinutes(),a.default.resetCurrentSeconds(),a.default.resetCurrentTime()},resetSongSliders:function(){for(var t=document.getElementsByClassName("amplitude-song-slider"),e=0;e<t.length;e++)t[e].value=0},resetSongPlayedProgressBars:function(){for(var t=document.getElementsByClassName("amplitude-song-played-progress"),e=0;e<t.length;e++)t[e].value=0},resetSongBufferedProgressBars:function(){for(var t=document.getElementsByClassName("amplitude-buffered-progress"),e=0;e<t.length;e++)t[e].value=0},setActiveContainer:function(){for(var t=document.getElementsByClassName("amplitude-song-container"),e=0;e<t.length;e++)t[e].classList.remove("amplitude-active-song-container");if(""==o.default.active_playlist||null==o.default.active_playlist){if(document.querySelectorAll('.amplitude-song-container[amplitude-song-index="'+o.default.active_index+'"]'))for(t=document.querySelectorAll('.amplitude-song-container[amplitude-song-index="'+o.default.active_index+'"]'),e=0;e<t.length;e++)t[e].hasAttribute("amplitude-playlist")||t[e].classList.add("amplitude-active-song-container")}else if(document.querySelectorAll('.amplitude-song-container[amplitude-song-index="'+o.default.active_index+'"][amplitude-playlist="'+o.default.active_playlist+'"]'))for(t=document.querySelectorAll('.amplitude-song-container[amplitude-song-index="'+o.default.active_index+'"][amplitude-playlist="'+o.default.active_playlist+'"]'),e=0;e<t.length;e++)t[e].classList.add("amplitude-active-song-container")},displaySongMetadata:function(){for(var t=["cover_art_url","station_art_url","podcast_episode_cover_art_url"],e=document.querySelectorAll("[amplitude-song-info]"),i=0;i<e.length;i++){var n=e[i].getAttribute("amplitude-song-info"),s=e[i].getAttribute("amplitude-playlist"),a=e[i].getAttribute("amplitude-main-song-info");o.default.active_playlist!=s&&"true"!=a||(null!=o.default.active_metadata[n]?0<=t.indexOf(n)?e[i].setAttribute("src",o.default.active_metadata[n]):e[i].innerHTML=o.default.active_metadata[n]:0<=t.indexOf(n)?""!=o.default.default_album_art?e[i].setAttribute("src",o.default.default_album_art):e[i].setAttribute("src",""):e[i].innerHTML="")}},syncPlaybackSpeed:function(){for(var t=document.getElementsByClassName("amplitude-playback-speed"),e=0;e<t.length;e++)switch(t[e].classList.remove("amplitude-playback-speed-10"),t[e].classList.remove("amplitude-playback-speed-15"),t[e].classList.remove("amplitude-playback-speed-20"),o.default.playback_speed){case 1:t[e].classList.add("amplitude-playback-speed-10");break;case 1.5:t[e].classList.add("amplitude-playback-speed-15");break;case 2:t[e].classList.add("amplitude-playback-speed-20")}},syncBufferedProgressBars:function(){for(var t=document.getElementsByClassName("amplitude-buffered-progress"),e=0;e<t.length;e++)t[e].value=parseFloat(parseFloat(o.default.buffered)/100)},syncVolumeSliders:function(){for(var t=document.getElementsByClassName("amplitude-volume-slider"),e=0;e<t.length;e++)t[e].value=100*o.default.active_song.volume},setPlayPauseButtonsToPause:function(){for(var t=document.querySelectorAll(".amplitude-play-pause"),e=0;e<t.length;e++)a.default.setElementPause(t[e])},setFirstSongInPlaylist:function(t,e){for(var i=["cover_art_url","station_art_url","podcast_episode_cover_art_url"],n=document.querySelectorAll('[amplitude-song-info][amplitude-playlist="'+e+'"]'),s=0;s<n.length;s++){var a=n[s].getAttribute("amplitude-song-info");n[s].getAttribute("amplitude-playlist")==e&&(null!=t[a]?0<=i.indexOf(a)?n[s].setAttribute("src",t[a]):n[s].innerHTML=t[a]:0<=i.indexOf(a)?""!=t.default_album_art?n[s].setAttribute("src",t.default_album_art):n[s].setAttribute("src",""):n[s].innerHTML="")}},syncMainPlayPause:function(t){"string"!=typeof t&&(t=o.default.active_song.paused?"paused":"playing");for(var e=document.querySelectorAll('.amplitude-play-pause[amplitude-main-play-pause="true"]'),i=0;i<e.length;i++)switch(t){case"playing":a.default.setElementPlay(e[i]);break;case"paused":a.default.setElementPause(e[i])}},syncPlaylistPlayPause:function(t,e){"string"!=typeof e&&(e=o.default.active_song.paused?"paused":"playing");for(var i=document.querySelectorAll('.amplitude-play-pause[amplitude-playlist-main-play-pause="true"]'),n=0;n<i.length;n++)i[n].getAttribute("amplitude-playlist")==t&&"playing"==e?a.default.setElementPlay(i[n]):a.default.setElementPause(i[n])},syncSongPlayPause:function(t,e,i){if("string"!=typeof i&&(i=o.default.active_song.paused?"paused":"playing"),null==t||""==t)for(var n=document.querySelectorAll(".amplitude-play-pause[amplitude-song-index]"),s=0;s<n.length;s++)n[s].hasAttribute("amplitude-playlist")?a.default.setElementPause(n[s]):"playing"==i&&n[s].getAttribute("amplitude-song-index")==e?a.default.setElementPlay(n[s]):a.default.setElementPause(n[s]);else for(n=document.querySelectorAll(".amplitude-play-pause[amplitude-song-index]"),s=0;s<n.length;s++)n[s].hasAttribute("amplitude-playlist")&&n[s].getAttribute("amplitude-song-index")==e&&n[s].getAttribute("amplitude-playlist")==t&&"playing"==i?a.default.setElementPlay(n[s]):a.default.setElementPause(n[s])},syncRepeat:function(){for(var t=document.getElementsByClassName("amplitude-repeat"),e=0;e<t.length;e++)o.default.repeat?(t[e].classList.add("amplitude-repeat-on"),t[e].classList.remove("amplitude-repeat-off")):(t[e].classList.remove("amplitude-repeat-on"),t[e].classList.add("amplitude-repeat-off"))},syncMute:function(t){for(var e=document.getElementsByClassName("amplitude-mute"),i=0;i<e.length;i++)t?(e[i].classList.remove("amplitude-not-muted"),e[i].classList.add("amplitude-muted")):(e[i].classList.add("amplitude-not-muted"),e[i].classList.remove("amplitude-muted"))},syncShuffle:function(t){for(var e=document.getElementsByClassName("amplitude-shuffle"),i=0;i<e.length;i++)null==e[i].getAttribute("amplitude-playlist")&&(t?(e[i].classList.add("amplitude-shuffle-on"),e[i].classList.remove("amplitude-shuffle-off")):(e[i].classList.add("amplitude-shuffle-off"),e[i].classList.remove("amplitude-shuffle-on")))},syncPlaylistShuffle:function(t,e){for(var i=document.getElementsByClassName("amplitude-shuffle"),n=0;n<i.length;n++)i[n].getAttribute("amplitude-playlist")==e&&(t?(i[n].classList.add("amplitude-shuffle-on"),i[n].classList.remove("amplitude-shuffle-off")):(i[n].classList.add("amplitude-shuffle-off"),i[n].classList.remove("amplitude-shuffle-on")))},syncMainSliderLocation:i,syncPlaylistSliderLocation:n,syncSongSliderLocation:s,syncVolumeSliderLocation:function(t){for(var e=document.querySelectorAll(".amplitude-volume-slider"),i=0;i<e.length;i++)e[i].value=t},syncSongDuration:function(t,e){a.default.syncDurationHours(null==e||isNaN(e.hours)?"00":e.hours),a.default.syncDurationMinutes(null==e||isNaN(e.minutes)?"00":e.minutes),a.default.syncDurationSeconds(null==e||isNaN(e.seconds)?"00":e.seconds),a.default.syncDurationTime(null!=e?e:{}),a.default.syncCountDownTime(t,e)}}}();e.default=s,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),a=n(i(1)),o=n(i(2)),l=function(){function e(){a.default.runCallback("before_play"),s.default.active_metadata.live&&i(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&!s.default.paused&&i(),s.default.active_song.play(),s.default.active_song.playbackRate=s.default.playback_speed,a.default.runCallback("after_play")}function t(){s.default.active_song.src="",s.default.active_song.load()}function i(){s.default.active_song.src=s.default.active_metadata.url,s.default.active_song.load()}return{play:e,pause:function(){a.default.runCallback("before_pause"),s.default.active_song.pause(),s.default.paused=!0,s.default.active_metadata.live&&t(),a.default.runCallback("after_pause")},stop:function(){a.default.runCallback("before_stop"),0!=s.default.active_song.currentTime&&(s.default.active_song.currentTime=0),s.default.active_song.pause(),s.default.active_metadata.live&&t(),a.default.runCallback("after_stop")},setVolume:function(t){0==t?o.default.syncMute(!0):o.default.syncMute(!1),s.default.active_song.volume=t/100},setSongLocation:function(t){s.default.active_metadata.live||(s.default.active_song.currentTime=s.default.active_song.duration*(song_percentage/100))},skipToLocation:function(t){s.default.active_song.addEventListener("canplaythrough",function(){s.default.active_song.duration>=t&&0<t?s.default.active_song.currentTime=t:a.default.writeDebugMessage("Amplitude can't skip to a location greater than the duration of the audio or less than 0")},{once:!0})},disconnectStream:t,reconnectStream:i,playNow:function(t){t.url?(s.default.active_song.src=t.url,s.default.active_metadata=t,s.default.active_album=t.album):a.default.writeDebugMessage("The song needs to have a URL!"),o.default.syncMainPlayPause("playing"),o.default.displaySongMetadata(),o.default.resetSongSliders(),o.default.resetSongPlayedProgressBars(),o.default.resetTimes(),e()},setPlaybackSpeed:function(t){s.default.playback_speed=t,s.default.active_song.playbackRate=s.default.playback_speed}}}();e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(0)),a=n(i(1)),o=n(i(7)),l={initializeEvents:function(){a.default.writeDebugMessage("Beginning initialization of event handlers.."),document.addEventListener("touchmove",function(){s.default.is_touch_moving=!0}),document.addEventListener("touchend",function(){s.default.is_touch_moving&&(s.default.is_touch_moving=!1)}),s.default.active_song.removeEventListener("timeupdate",o.default.updateTime),s.default.active_song.addEventListener("timeupdate",o.default.updateTime),s.default.active_song.removeEventListener("durationchange",o.default.updateTime),s.default.active_song.addEventListener("durationchange",o.default.updateTime),document.removeEventListener("keydown",a.default.keydown),document.addEventListener("keydown",o.default.keydown),s.default.active_song.removeEventListener("ended",o.default.songEnded),s.default.active_song.addEventListener("ended",o.default.songEnded),s.default.active_song.removeEventListener("progress",o.default.progess),s.default.active_song.addEventListener("progress",o.default.progress),function(){for(var t=document.getElementsByClassName("amplitude-play"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",o.default.play),t[e].addEventListener("touchend",o.default.play)):(t[e].removeEventListener("click",o.default.play),t[e].addEventListener("click",o.default.play))}(),function(){for(var t=document.getElementsByClassName("amplitude-pause"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",o.default.pause),t[e].addEventListener("touchend",o.default.pause)):(t[e].removeEventListener("click",o.default.pause),t[e].addEventListener("click",o.default.pause))}(),function(){for(var t=document.getElementsByClassName("amplitude-play-pause"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",o.default.playPause),t[e].addEventListener("touchend",o.default.playPause)):(t[e].removeEventListener("click",o.default.playPause),t[e].addEventListener("click",o.default.playPause))}(),function(){for(var t=document.getElementsByClassName("amplitude-stop"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",o.default.stop),t[e].addEventListener("touchend",o.default.stop)):(t[e].removeEventListener("click",o.default.stop),t[e].addEventListener("click",o.default.stop))}(),function(){for(var t=document.getElementsByClassName("amplitude-mute"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?a.default.writeDebugMessage("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):(t[e].removeEventListener("touchend",o.default.mute),t[e].addEventListener("touchend",o.default.mute)):(t[e].removeEventListener("click",o.default.mute),t[e].addEventListener("click",o.default.mute))}(),function(){for(var t=document.getElementsByClassName("amplitude-volume-up"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?a.default.writeDebugMessage("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):(t[e].removeEventListener("touchend",o.default.volumeUp),t[e].addEventListener("touchend",o.default.volumeUp)):(t[e].removeEventListener("click",o.default.volumeUp),t[e].addEventListener("click",o.default.volumeUp))}(),function(){for(var t=document.getElementsByClassName("amplitude-volume-down"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?a.default.writeDebugMessage("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):(t[e].removeEventListener("touchend",o.default.volumeDown),t[e].addEventListener("touchend",o.default.volumeDown)):(t[e].removeEventListener("click",o.default.volumeDown),t[e].addEventListener("click",o.default.volumeDown))}(),function(){for(var t=window.navigator.userAgent.indexOf("MSIE "),e=document.getElementsByClassName("amplitude-song-slider"),i=0;i<e.length;i++)0<t||navigator.userAgent.match(/Trident.*rv\:11\./)?(e[i].removeEventListener("change",o.default.songSlider),e[i].addEventListener("change",o.default.songSlider)):(e[i].removeEventListener("input",o.default.songSlider),e[i].addEventListener("input",o.default.songSlider))}(),function(){for(var t=window.navigator.userAgent.indexOf("MSIE "),e=document.getElementsByClassName("amplitude-volume-slider"),i=0;i<e.length;i++)/iPhone|iPad|iPod/i.test(navigator.userAgent)?a.default.writeDebugMessage("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):0<t||navigator.userAgent.match(/Trident.*rv\:11\./)?(e[i].removeEventListener("change",o.default.volumeSlider),e[i].addEventListener("change",o.default.volumeSlider)):(e[i].removeEventListener("input",o.default.volumeSlider),e[i].addEventListener("input",o.default.volumeSlider))}(),function(){for(var t=document.getElementsByClassName("amplitude-next"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",o.default.next),t[e].addEventListener("touchend",o.default.next)):(t[e].removeEventListener("click",o.default.next),t[e].addEventListener("click",o.default.next))}(),function(){for(var t=document.getElementsByClassName("amplitude-prev"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",o.default.prev),t[e].addEventListener("touchend",o.default.prev)):(t[e].removeEventListener("click",o.default.prev),t[e].addEventListener("click",o.default.prev))}(),function(){for(var t=document.getElementsByClassName("amplitude-shuffle"),e=0;e<t.length;e++)t[e].classList.remove("amplitude-shuffle-on"),t[e].classList.add("amplitude-shuffle-off"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",o.default.shuffle),t[e].addEventListener("touchend",o.default.shuffle)):(t[e].removeEventListener("click",o.default.shuffle),t[e].addEventListener("click",o.default.shuffle))}(),function(){for(var t=document.getElementsByClassName("amplitude-repeat"),e=0;e<t.length;e++)t[e].classList.remove("amplitude-repeat-on"),t[e].classList.add("amplitude-repeat-off"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",o.default.repeat),t[e].addEventListener("touchend",o.default.repeat)):(t[e].removeEventListener("click",o.default.repeat),t[e].addEventListener("click",o.default.repeat))}(),function(){for(var t=document.getElementsByClassName("amplitude-playback-speed"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",o.default.playbackSpeed),t[e].addEventListener("touchend",o.default.playbackSpeed)):(t[e].removeEventListener("click",o.default.playbackSpeed),t[e].addEventListener("click",o.default.playbackSpeed))}(),function(){for(var t=document.getElementsByClassName("amplitude-skip-to"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",o.default.skipTo),t[e].addEventListener("touchend",o.default.skipTo)):(t[e].removeEventListener("click",o.default.skipTo),t[e].addEventListener("click",o.default.skipTo))}()}};e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(i(0)),l=n(i(2)),r=n(i(3)),u=n(i(1)),s=function(){function e(t,e){u.default.checkNewPlaylist(t)&&(u.default.setActivePlaylist(t),u.default.changeSong(e)),u.default.checkNewSong(e)&&u.default.changeSong(e),o.default.active_song.paused?(l.default.syncMainPlayPause("playing"),l.default.syncPlaylistPlayPause(o.default.active_playlist,"playing"),l.default.syncSongPlayPause(o.default.active_playlist,o.default.active_index,"playing"),r.default.play()):(l.default.syncMainPlayPause("paused"),l.default.syncPlaylistPlayPause(o.default.active_playlist,"paused"),l.default.syncSongPlayPause(o.default.active_playlist,o.default.active_index,"paused"),r.default.pause())}function i(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=0,i=!1;o.default.shuffle_on?parseInt(o.default.shuffle_active_index)+1<o.default.shuffle_list.length?(o.default.shuffle_active_index=parseInt(o.default.shuffle_active_index)+1,e=o.default.shuffle_list[parseInt(o.default.shuffle_active_index)].original_index):i=!(e=o.default.shuffle_active_index=0):(parseInt(o.default.active_index)+1<o.default.songs.length?o.default.active_index=parseInt(o.default.active_index)+1:i=!(o.default.active_index=0),e=o.default.active_index),r.default.stop(),u.default.changeSong(e),i&&!o.default.repeat||t&&!o.default.repeat&&i||r.default.play(),l.default.syncMainPlayPause(),l.default.syncSongPlayPause(null,e),u.default.runCallback("after_next")}function n(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=0,n=!1;if(o.default.shuffled_statuses[t]){var s=parseInt(o.default.shuffled_active_indexes[t]);s+1<o.default.shuffled_playlists[t].length?(o.default.shuffled_active_indexes[t]=s+1,i=o.default.shuffled_playlists[t][o.default.shuffled_active_indexes[t]].original_index):(o.default.shuffled_active_indexes[t]=0,i=o.default.shuffled_playlists[t][0].original_index,n=!0)}else{var a=o.default.playlists[t].indexOf(parseInt(o.default.active_index));a+1<o.default.playlists[t].length?o.default.active_index=parseInt(o.default.playlists[t][a+1]):(o.default.active_index=parseInt(o.default.playlists[t][0]),n=!0),i=o.default.active_index}r.default.stop(),u.default.changeSong(i),u.default.setActivePlaylist(t),e&&!o.default.repeat&&n||r.default.play(),l.default.syncMainPlayPause(),l.default.syncPlaylistPlayPause(t),l.default.syncSongPlayPause(t,i),u.default.runCallback("after_next")}return{computeCurrentTimes:function(){var t={},e=(Math.floor(o.default.active_song.currentTime%60)<10?"0":"")+Math.floor(o.default.active_song.currentTime%60),i=Math.floor(o.default.active_song.currentTime/60),n="00";return i<10&&(i="0"+i),60<i&&((n=Math.floor(i/60))<10&&(n="0"+n),(i%=60)<10&&(i="0"+i)),t.seconds=e,t.minutes=i,t.hours=n,t},computeSongDuration:function(){var t={},e=(Math.floor(o.default.active_song.duration%60)<10?"0":"")+Math.floor(o.default.active_song.duration%60),i=Math.floor(o.default.active_song.duration/60),n="00";return i<10&&(i="0"+i),60<i&&((n=Math.floor(i/60))<10&&(n="0"+n),(i%=60)<10&&(i="0"+i)),t.seconds=e,t.minutes=i,t.hours=n,t},computeSongCompletionPercentage:function(){return o.default.active_song.currentTime/o.default.active_song.duration*100},setPlaybackSpeed:function(t){r.default.setPlaybackSpeed(t)},setRepeat:function(t){o.default.repeat=t},setMainPlayPause:function(){o.default.active_song.paused?(l.default.syncMainPlayPause("playing"),l.default.syncPlaylistPlayPause(o.default.active_playlist,"playing"),l.default.syncSongPlayPause(o.default.active_playlist,o.default.active_index,"playing"),r.default.play()):(l.default.syncMainPlayPause("paused"),l.default.syncPlaylistPlayPause(o.default.active_playlist,"paused"),l.default.syncSongPlayPause(o.default.active_playlist,o.default.active_index,"paused"),r.default.pause())},setPlaylistPlayPause:function(t){u.default.checkNewPlaylist(t)&&(u.default.setActivePlaylist(t),o.default.shuffled_statuses[t]?u.default.changeSong(o.default.shuffled_playlists[t][0].original_index):u.default.changeSong(o.default.playlists[t][0])),o.default.active_song.paused?(l.default.syncMainPlayPause("playing"),l.default.syncPlaylistPlayPause(o.default.active_playlist,"playing"),l.default.syncSongPlayPause(o.default.active_playlist,o.default.active_index,"playing"),r.default.play()):(l.default.syncMainPlayPause("paused"),l.default.syncPlaylistPlayPause(o.default.active_playlist,"paused"),l.default.syncSongPlayPause(o.default.active_playlist,o.default.active_index,"paused"),r.default.pause())},setSongPlayPause:e,setShuffle:function(t){null==t?(o.default.shuffle_on?(o.default.shuffle_on=!1,o.default.shuffle_list={}):(o.default.shuffle_on=!0,u.default.shuffleSongs()),l.default.syncShuffle(o.default.shuffle_on)):(o.default.shuffled_statuses[t]?(o.default.shuffled_statuses[t]=!1,o.default.shuffled_playlists[t]=[]):(o.default.shuffled_statuses[t]=!0,u.default.shufflePlaylistSongs(t)),l.default.syncPlaylistShuffle(o.default.shuffled_statuses[t],t))},setNext:i,setNextPlaylist:n,setPrev:function(){var t=0;o.default.shuffle_on?0<=parseInt(o.default.shuffle_active_index)-1?(o.default.shuffle_active_index=parseInt(o.default.shuffle_active_index)-1,t=o.default.shuffle_list[parseInt(o.default.shuffle_active_index)].original_index):(o.default.shuffle_active_index=o.default.shuffle_list.length-1,t=o.default.shuffle_list[parseInt(o.default.shuffle_list.length)-1].original_index):(0<=parseInt(o.default.active_index)-1?o.default.active_index=parseInt(o.default.active_index)-1:o.default.active_index=o.default.songs.length-1,t=o.default.active_index),r.default.stop(),u.default.changeSong(t),r.default.play(),l.default.syncMainPlayPause("playing"),l.default.syncSongPlayPause(null,t,"playing"),u.default.runCallback("after_prev")},setPrevPlaylist:function(t){var e=0;if(o.default.shuffled_statuses[t]){var i=parseInt(o.default.shuffled_active_indexes[t]);0<=i-1?(o.default.shuffled_active_indexes[t]=i-1,e=o.default.shuffled_playlists[t][o.default.shuffled_active_indexes[t]].original_index):(o.default.shuffled_active_indexes[t]=o.default.shuffled_playlists[t].length-1,e=o.default.shuffled_playlists[t][o.default.shuffled_playlists[t].length-1].original_index)}else{var n=o.default.playlists[t].indexOf(parseInt(o.default.active_index));o.default.active_index=0<=n-1?parseInt(o.default.playlists[t][n-1]):parseInt(o.default.playlists[t][o.default.playlists[t].length-1]),e=o.default.active_index}r.default.stop(),u.default.changeSong(e),u.default.setActivePlaylist(t),r.default.play(),l.default.syncMainPlayPause("playing"),l.default.syncPlaylistPlayPause(t,"playing"),l.default.syncSongPlayPause(t,e,"playing"),u.default.runCallback("after_prev")},runKeyEvent:function(t){if(null!=o.default.bindings[t])switch(o.default.bindings[t]){case"play_pause":e(o.default.active_playlist,o.default.active_index);break;case"next":""==o.default.active_playlist||null==o.default.active_playlist?i():n(o.default.active_playlist);break;case"prev":""==o.default.active_playlist||null==o.default.active_playlist?s.setPrev():s.setPrevPlaylist(o.default.active_playlist);break;case"stop":l.default.setPlayPauseButtonsToPause(),r.default.stop();break;case"shuffle":""==o.default.active_playlist||null==o.default.active_playlist?s.setShuffle(null):s.setShuffle(o.default.active_playlist);break;case"repeat":s.setRepeat(!o.default.repeat),l.default.syncRepeat()}}}}();e.default=s,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(3)),a=n(i(1)),o=n(i(4)),l=n(i(9)),r=n(i(2)),u=i(0),d=function(){function n(t){null!=t.start_song?a.default.isInt(t.start_song)?a.default.changeSong(t.start_song):a.default.writeDebugMessage("You must enter an integer index for the start song."):a.default.changeSong(0),u.continue_next=null==t.continue_next||t.continue_next,u.playback_speed=null!=t.playback_speed?t.playback_speed:1,s.default.setPlaybackSpeed(u.playback_speed),u.active_song.preload=null!=t.preload?t.preload:"auto",u.callbacks=null!=t.callbacks?t.callbacks:{},u.bindings=null!=t.bindings?t.bindings:{},u.volume=null!=t.volume?t.volume:50,u.volume_increment=null!=t.volume_increment?t.volume_increment:5,u.volume_decrement=null!=t.volume_decrement?t.volume_decrement:5,s.default.setVolume(u.volume),r.default.syncVolumeSliders(),null!=t.default_album_art?u.default_album_art=t.default_album_art:u.default_album_art="",r.default.resetTimes(),r.default.setPlayPauseButtonsToPause(),t.autoplay&&(u.active_playlist=null,r.default.syncMainPlayPause("playing"),r.default.syncSongPlayPause(null,0,"playing"),s.default.play()),a.default.runCallback("after_init")}return{initialize:function(t){var e=!1;if(a.default.resetConfig(),o.default.initializeEvents(),u.debug=null!=t.debug&&t.debug,t.songs?0!=t.songs.length?(u.songs=t.songs,e=!0):a.default.writeDebugMessage("Please add some songs, to your songs object!"):a.default.writeDebugMessage("Please provide a songs object for AmplitudeJS to run!"),t.playlists&&0<function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return a.default.writeDebugMessage("You have "+i+" playlist(s) in your config"),i}(t.playlists)&&(u.playlists=t.playlists,function(){for(var t=0;t<u.songs.length;t++)null==u.songs[t].live&&(u.songs[t].live=!1)}(),function(){for(var t in u.playlists)if(u.playlists.hasOwnProperty(t)&&u.playlists[t].songs)for(var e=0;e<u.playlists[t].songs.length;e++)u.songs[u.playlists[t].songs[e]]||a.default.writeDebugMessage("The song index: "+u.playlists[t].songs[e]+" in playlist with key: "+t+" is not defined in your songs array!")}(),function(){for(var t in u.playlists)u.shuffled_statuses[t]=!1}(),function(){for(var t in u.playlists)u.shuffled_playlists[t]=[]}(),function(){for(var t in u.playlists)u.shuffled_active_indexes[t]=0}(),function(){for(var t in u.playlists)r.default.setFirstSongInPlaylist(u.songs[u.playlists[t][0]],t)}()),e){u.soundcloud_client=null!=t.soundcloud_client?t.soundcloud_client:"",u.soundcloud_use_art=null!=t.soundcloud_use_art?t.soundcloud_use_art:"";var i={};""!=u.soundcloud_client?(i=t,l.default.loadSoundCloud(i)):n(t)}a.default.writeDebugMessage("Initialized With: "),a.default.writeDebugMessage(u)},setConfig:n,rebindDisplay:function(){o.default.initializeEvents(),r.default.displaySongMetadata()}}}();e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(i(0)),o=n(i(5)),l=n(i(2)),s=n(i(3)),r=n(i(1));e.default={updateTime:function(){if(0<=a.default.active_song.buffered.length-1){var t=a.default.active_song.buffered.end(a.default.active_song.buffered.length-1),e=a.default.active_song.duration;a.default.buffered=t/e*100}if(l.default.syncBufferedProgressBars(),!a.default.active_metadata.live){var i=o.default.computeCurrentTimes(),n=o.default.computeSongCompletionPercentage(),s=o.default.computeSongDuration();l.default.syncCurrentTime(i,n),l.default.syncSongDuration(i,s),r.default.runCallback("time_update")}},keydown:function(){o.default.runKeyEvent(event.which)},songEnded:function(){a.default.continue_next?""==a.default.active_playlist||null==a.default.active_playlist?o.default.setNext(!0):o.default.setNextPlaylist(a.default.active_playlist,!0):a.default.is_touch_moving||(l.default.setPlayPauseButtonsToPause(),s.default.stop())},progress:function(){if(0<=a.default.active_song.buffered.length-1){var t=a.default.active_song.buffered.end(a.default.active_song.buffered.length-1),e=a.default.active_song.duration;a.default.buffered=t/e*100}l.default.syncBufferedProgressBars()},play:function(){if(!a.default.is_touch_moving){var t=this.getAttribute("amplitude-song-index"),e=this.getAttribute("amplitude-playlist");null==e&&null==t&&o.default.setSongPlayPause(a.default.active_playlist,a.default.active_index),null!=e&&""!=e&&(r.default.checkNewPlaylist(e)?(r.default.setActivePlaylist(e),null!=t?r.default.changeSong(t):r.default.changeSong(a.default.playlists[e][0])):null!=t?r.default.changeSong(t):r.default.changeSong(a.default.active_index),o.default.setPlaylistPlayPause(e)),null!=e&&""!=e||null==t||""==t||((r.default.checkNewSong(t)||a.default.active_playlist!=e)&&r.default.changeSong(t),o.default.setSongPlayPause(e,t))}},pause:function(){if(!a.default.is_touch_moving){var t=this.getAttribute("amplitude-song-index"),e=this.getAttribute("amplitude-playlist");null==t&&null==e&&(o.default.setSongPlayPause(a.default.active_playlist,a.default.active_index),s.default.pause()),(null!=e||""!=e&&a.default.active_playlist==e)&&(l.default.syncMainPlayPause("paused"),l.default.syncPlaylistPlayPause(a.default.active_playlist,"paused"),l.default.syncSongPlayPause(a.default.active_playlist,a.default.active_index,"paused"),s.default.pause()),null!=e&&""!=e||t!=a.default.active_index||(l.default.syncMainPlayPause("paused"),l.default.syncPlaylistPlayPause(a.default.active_playlist,"paused"),l.default.syncSongPlayPause(a.default.active_playlist,a.default.active_index,"paused"),s.default.pause())}},playPause:function(){if(!a.default.is_touch_moving)if(null!=this.getAttribute("amplitude-main-play-pause"))o.default.setMainPlayPause();else if(null!=this.getAttribute("amplitude-playlist-main-play-pause")){var t=this.getAttribute("amplitude-playlist");o.default.setPlaylistPlayPause(t)}else{t=this.getAttribute("amplitude-playlist");var e=this.getAttribute("amplitude-song-index");o.default.setSongPlayPause(t,e)}},stop:function(){a.default.is_touch_moving||(l.default.setPlayPauseButtonsToPause(),s.default.stop())},mute:function(){a.default.is_touch_moving||(0==a.default.volume?(a.default.active_song.muted=!1,a.default.volume=a.default.pre_mute_volume,l.default.syncMute(!1)):(a.default.active_song.muted=!0,a.default.pre_mute_volume=a.default.volume,a.default.volume=0,l.default.syncMute(!0)),s.default.setVolume(a.default.volume),l.default.syncVolumeSliders(a.default.volume))},volumeUp:function(){a.default.is_touch_moving||(a.default.volume+a.default.volume_increment<=100?a.default.volume=a.default.volume+a.default.volume_increment:a.default.volume=100,s.default.setVolume(a.default.volume),l.default.syncVolumeSliders(a.default.volume))},volumeDown:function(){a.default.is_touch_moving||(0<a.default.volume-a.default.volume_increment?a.default.volume=a.default.volume-a.default.volume_increment:a.default.volume=0,s.default.setVolume(a.default.volume),l.default.syncVolumeSliders(a.default.volume))},songSlider:function(){var t=this.value;if(null!=this.getAttribute("amplitude-main-song-slider")){if(!a.default.active_metadata.live){var e=a.default.active_song.duration*(t/100);isFinite(e)&&(a.default.active_song.currentTime=e)}l.default.syncMainSliderLocation(t),""!=a.default.active_playlist&&null!=a.default.active_playlist&&l.default.syncPlaylistSliderLocation(a.default.active_playlist,t)}if(null!=this.getAttribute("amplitude-playlist-song-slider")){var i=this.getAttribute("amplitude-playlist");a.default.active_playlist==i&&(a.default.active_metadata.live||(a.default.active_song.currentTime=a.default.active_song.duration*(t/100)),l.default.syncMainSliderLocation(t),l.default.syncPlaylistSliderLocation(i,t))}if(null==this.getAttribute("amplitude-playlist-song-slider")&&null==this.getAttribute("amplitude-main-song-slider")){i=this.getAttribute("amplitude-playlist");var n=this.getAttribute("amplitude-song-index");a.default.active_index==n&&(a.default.active_metadata.live||(a.default.active_song.currentTime=a.default.active_song.duration*(t/100)),l.default.syncMainSliderLocation(),""!=a.default.active_playlist&&null!=a.default.active_playlist&&a.default.active_playlist==i&&l.default.syncPlaylistSliderLocation(i,location),l.default.syncSongSliderLocation(i,n,location))}},volumeSlider:function(){s.default.setVolume(this.value),l.default.syncVolumeSliderLocation(this.value)},next:function(){if(!a.default.is_touch_moving)if(""==this.getAttribute("amplitude-playlist")||null==this.getAttribute("amplitude-playlist"))""==a.default.active_playlist||null==a.default.active_playlist?o.default.setNext():o.default.setNextPlaylist(a.default.active_playlist);else{var t=this.getAttribute("amplitude-playlist");o.default.setNextPlaylist(t)}},prev:function(){if(!a.default.is_touch_moving)if(""==this.getAttribute("amplitude-playlist")||null==this.getAttribute("amplitude-playlist"))""==a.default.active_playlist||null==a.default.active_playlist?o.default.setPrev():o.default.setPrevPlaylist(a.default.active_playlist);else{var t=this.getAttribute("amplitude-playlist");o.default.setPrevPlaylist(t)}},shuffle:function(){if(!a.default.is_touch_moving)if(""==this.getAttribute("amplitude-playlist")||null==this.getAttribute("amplitude-playlist"))o.default.setShuffle(null);else{var t=this.getAttribute("amplitude-playlist");o.default.setShuffle(t)}},repeat:function(){a.default.is_touch_moving||(o.default.setRepeat(!a.default.repeat),l.default.syncRepeat())},playbackSpeed:function(){if(!a.default.is_touch_moving){switch(a.default.playback_speed){case 1:o.default.setPlaybackSpeed(1.5);break;case 1.5:o.default.setPlaybackSpeed(2);break;case 2:o.default.setPlaybackSpeed(1)}l.default.syncPlaybackSpeed()}},skipTo:function(){if(!a.default.is_touch_moving)if(this.hasAttribute("amplitude-playlist")){var t=this.getAttribute("amplitude-playlist");r.default.checkNewPlaylist(t)&&r.default.setActivePlaylist(t);var e=parseInt(this.getAttribute("amplitude-location")),i=parseInt(this.getAttribute("amplitude-song-index"));r.default.changeSong(i),s.default.play(),l.default.syncMainPlayPause("playing"),l.default.syncPlaylistPlayPause(t,"playing"),l.default.syncSongPlayPause(t,i,"playing"),s.default.skipToLocation(e)}else{e=parseInt(this.getAttribute("amplitude-location")),i=parseInt(this.getAttribute("amplitude-song-index"));r.default.changeSong(i),s.default.play(),l.default.syncMainPlayPause("playing"),l.default.syncSongPlayPause(null,i,"playing"),s.default.skipToLocation(e)}}},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(6)),a=n(i(3)),o=n(i(1)),l=n((n(i(4)),i(5))),r=n(i(2)),u=n(i(0)),d={init:function(t){s.default.initialize(t)},bindNewElements:function(){s.default.rebindDisplay()},getActivePlaylist:function(){return u.default.active_playlist},getPlaybackSpeed:function(){return u.default.playback_speed},getRepeat:function(){return u.default.repeat},getShuffle:function(){return u.default.shuffle_on},getShufflePlaylist:function(t){return u.default.shuffled_statuses[t]},getDefaultAlbumArt:function(){return u.default.default_album_art},setDefaultAlbumArt:function(t){u.default.default_album_art=t},getSongPlayedPercentage:function(){return u.default.active_song.currentTime/u.default.active_song.duration*100},setSongPlayedPercentage:function(t){"number"==typeof t&&0<t&&t<100&&(u.default.active_song.currentTime=u.default.active_song.duration*(t/100))},setDebug:function(t){u.default.debug=t},getActiveSongMetadata:function(){return u.default.active_metadata},getSongByIndex:function(t){return u.default.songs[t]},getSongAtPlaylistIndex:function(t,e){var i=u.default.playlists[t][e];return u.default.songs[i]},addSong:function(t){return null==u.default.songs&&(u.default.songs=[]),u.default.songs.push(t),u.default.songs.length-1},playNow:function(t){a.default.playNow(t)},play:function(){a.default.play()},pause:function(){a.default.pause()},audio:function(){return u.default.active_song},next:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;""==t||null==t?null==u.default.active_playlist||""==u.default.active_playlist?l.default.setNext():l.default.setNextPlaylist(u.default.active_playlist):l.default.setNextPlaylist(t)},prev:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;""==t||null==t?null==u.default.active_playlist||""==u.default.active_playlist?l.default.setPrev():l.default.setPrevPlaylist(u.default.active_playlist):l.default.setPrevPlaylist(t)},getSongs:function(){return u.default.songs},getSongsInPlaylist:function(t){for(var e=[],i=0;i<u.default.playlist[t].length;i++)e.push(u.default.songs[i]);return e},getSongsState:function(){return u.default.shuffle_on?u.default.shuffle_list:u.default.songs},getSongsStatePlaylist:function(t){var e=[];if(u.default.shuffled_status[t])for(var i=0;i<u.default.shuffled_playlists[t].length;i++)e.push(u.default.songs[i]);else for(i=0;i<u.default.playlist[t].length;i++)e.push(u.default.songs[i]);return e},getActiveIndex:function(){return parseInt(u.default.active_index)},getActiveIndexState:function(){return u.default.shuffle_on?parseInt(u.default.shuffle_active_index):parseInt(u.default.active_index)},getVersion:function(){return u.default.version},getBuffered:function(){return u.default.buffered},skipTo:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null!=i&&o.default.checkNewPlaylist(i)&&o.default.setActivePlaylist(i),t=parseInt(t),o.default.changeSong(e),a.default.play(),r.default.syncMainPlayPause("playing"),null!=i&&r.default.syncPlaylistPlayPause(i,"playing"),r.default.syncSongPlayPause(i,e,"playing"),a.default.skipToLocation(t)}};e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(i(0)),o=n(i(1)),l=n(i(6)),s=function(){function n(){SC.initialize({client_id:a.default.soundcloud_client}),function(){for(var t=/^https?:\/\/(soundcloud.com|snd.sc)\/(.*)$/,e=0;e<a.default.songs.length;e++)a.default.songs[e].url.match(t)&&(a.default.soundcloud_song_count++,i(a.default.songs[e].url,e))}()}function i(t,e){SC.get("/resolve/?url="+t,function(t){t.streamable?(a.default.songs[e].url=t.stream_url+"?client_id="+a.default.soundcloud_client,a.default.soundcloud_use_art&&(a.default.songs[e].cover_art_url=t.artwork_url),a.default.songs[e].soundcloud_data=t):o.default.writeDebugMessage(a.default.songs[e].name+" by "+a.default.songs[e].artist+" is not streamable by the Soundcloud API"),++a.default.soundcloud_songs_ready==a.default.soundcloud_song_count&&l.default.setConfig(s)})}var s={};return{loadSoundCloud:function(t){s=t;var e=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src="https://connect.soundcloud.com/sdk.js",i.onreadystatechange=n,i.onload=n,e.appendChild(i)}}}();e.default=s,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(0),d=(n=s)&&n.__esModule?n:{default:n},a={syncCurrentHours:function(t){if(null!=d.default.active_playlist&&""!=d.default.active_playlist)var e=['.amplitude-current-hours[amplitude-main-current-hours="true"]','.amplitude-current-hours[amplitude-playlist-current-hours="true"][amplitude-playlist="'+d.default.active_playlist+'"]','.amplitude-current-hours[amplitude-song-index="'+d.default.active_index+'"]'];else e=['.amplitude-current-hours[amplitude-main-current-hours="true"]','.amplitude-current-hours[amplitude-song-index="'+d.default.active_index+'"]'];if(0<document.querySelectorAll(e.join()).length)for(var i=document.querySelectorAll(e.join()),n=0;n<i.length;n++)"true"==i[n].getAttribute("amplitude-main-current-hours")?i[n].innerHTML=t:""!=d.default.active_playlist&&null!=d.default.active_playlist&&i[n].getAttribute("amplitude-playlist")==d.default.active_playlist?i[n].innerHTML=t:""==d.default.active_playlist||null==d.default.active_playlist&&!i[n].hasAttribute("amplitude-playlist")?i[n].innerHTML=t:i[n].innerHTML="00"},syncCurrentMinutes:function(t){if(null!=d.default.active_playlist&&""!=d.default.active_playlist)var e=['.amplitude-current-minutes[amplitude-main-current-minutes="true"]','.amplitude-current-minutes[amplitude-playlist-current-minutes="true"][amplitude-playlist="'+d.default.active_playlist+'"]','.amplitude-current-minutes[amplitude-song-index="'+d.default.active_index+'"]'];else e=['.amplitude-current-minutes[amplitude-main-current-minutes="true"]','.amplitude-current-minutes[amplitude-song-index="'+d.default.active_index+'"]'];for(var i=document.querySelectorAll(e.join()),n=0,s=i.length;n<s;n++)"true"==i[n].getAttribute("amplitude-main-current-minutes")?i[n].innerHTML=t:""!=d.default.active_playlist&&null!=d.default.active_playlist&&i[n].getAttribute("amplitude-playlist")==d.default.active_playlist?i[n].innerHTML=t:""==d.default.active_playlist||null==d.default.active_playlist&&!i[n].hasAttribute("amplitude-playlist")?i[n].innerHTML=t:i[n].innerHTML="00"},syncCurrentSeconds:function(t){if(null!=d.default.active_playlist&&""!=d.default.active_playlist)var e=['.amplitude-current-seconds[amplitude-main-current-seconds="true"]','.amplitude-current-seconds[amplitude-playlist-current-seconds="true"][amplitude-playlist="'+d.default.active_playlist+'"]','.amplitude-current-seconds[amplitude-song-index="'+d.default.active_index+'"]'];else e=['.amplitude-current-seconds[amplitude-main-current-seconds="true"]','.amplitude-current-seconds[amplitude-song-index="'+d.default.active_index+'"]'];for(var i=document.querySelectorAll(e.join()),n=0,s=i.length;n<s;n++)"true"==i[n].getAttribute("amplitude-main-current-seconds")?i[n].innerHTML=t:""!=d.default.active_playlist&&null!=d.default.active_playlist&&i[n].getAttribute("amplitude-playlist")==d.default.active_playlist?i[n].innerHTML=t:""==d.default.active_playlist||null==d.default.active_playlist&&!i[n].hasAttribute("amplitude-playlist")?i[n].innerHTML=t:i[n].innerHTML="00"},syncCurrentTime:function(t){for(var e=['.amplitude-current-time[amplitude-main-current-time="true"]','.amplitude-current-time[amplitude-playlist-main-current-time="'+d.default.active_playlist+'"]','.amplitude-current-time[amplitude-song-index="'+d.default.active_index+'"]'],i=document.querySelectorAll(e.join()),n=0,s=i.length;n<s;n++)i[n].innerHTML=t.minutes+":"+t.seconds},resetCurrentHours:function(){for(var t=document.querySelectorAll(".amplitude-current-hours"),e=0;e<t.length;e++)t[e].innerHTML="00"},resetCurrentMinutes:function(){for(var t=document.querySelectorAll(".amplitude-current-minutes"),e=0;e<t.length;e++)t[e].innerHTML="00"},resetCurrentSeconds:function(){for(var t=document.querySelectorAll(".amplitude-current-seconds"),e=0;e<t.length;e++)t[e].innerHTML="00"},resetCurrentTime:function(){for(var t=document.querySelectorAll(".amplitude-current-time"),e=0;e<t.length;e++)t[e].innerHTML="00:00"},syncSongPlayedProgressBar:function(t){(function(t){if(!isNaN(t))for(var e=document.querySelectorAll('.amplitude-song-played-progress[amplitude-main-song-played-progress="true"]'),i=0;i<e.length;i++){var n=e[i].max;e[i].value=t/100*n}})(t),function(t){if(!isNaN(t))for(var e=document.querySelectorAll('.amplitude-song-played-progress[amplitude-playlist-song-played-progress="true"][amplitude-playlist="'+d.default.active_playlist+'"]'),i=0;i<e.length;i++){var n=e[i].max;e[i].value=t/100*n}}(t),function(t){if(!isNaN(t))if(""!=d.default.active_playlist&&null!=d.default.active_playlist)for(var e=document.querySelectorAll('.amplitude-song-played-progress[amplitude-playlist="'+d.default.active_playlist+'"][amplitude-song-index="'+d.default.active_index+'"]'),i=0;i<e.length;i++){var n=e[i].max;e[i].value=t/100*n}else for(var e=document.querySelectorAll('.amplitude-song-played-progress[amplitude-song-index="'+d.default.active_index+'"]'),i=0;i<e.length;i++){var n=e[i].max;e[i].value=t/100*n}}(t)},setElementPlay:function(t){t.classList.add("amplitude-playing"),t.classList.remove("amplitude-paused")},setElementPause:function(t){t.classList.remove("amplitude-playing"),t.classList.add("amplitude-paused")},syncDurationHours:function(t){if(null!=d.default.active_playlist&&""!=d.default.active_playlist)var e=['.amplitude-duration-hours[amplitude-main-duration-hours="true"]','.amplitude-duration-hours[amplitude-playlist-duration-hours="true"][amplitude-playlist="'+d.default.active_playlist+'"]','.amplitude-duration-hours[amplitude-song-index="'+d.default.active_index+'"]'];else e=['.amplitude-duration-hours[amplitude-main-duration-hours="true"]','.amplitude-duration-hours[amplitude-song-index="'+d.default.active_index+'"]'];if(0<document.querySelectorAll(e.join()).length)for(var i=document.querySelectorAll(e.join()),n=0;n<i.length;n++)"true"==i[n].getAttribute("amplitude-main-duration-hours")?i[n].innerHTML=t:""!=d.default.active_playlist&&null!=d.default.active_playlist&&i[n].getAttribute("amplitude-playlist")==d.default.active_playlist?i[n].innerHTML=t:""==d.default.active_playlist||null==d.default.active_playlist&&!i[n].hasAttribute("amplitude-playlist")?i[n].innerHTML=t:i[n].innerHTML="00"},syncDurationMinutes:function(t){if(null!=d.default.active_playlist&&""!=d.default.active_playlist)var e=['.amplitude-duration-minutes[amplitude-main-duration-minutes="true"]','.amplitude-duration-minutes[amplitude-playlist-duration-minutes="true"][amplitude-playlist="'+d.default.active_playlist+'"]','.amplitude-duration-minutes[amplitude-song-index="'+d.default.active_index+'"]'];else e=['.amplitude-duration-minutes[amplitude-main-duration-minutes="true"]','.amplitude-duration-minutes[amplitude-song-index="'+d.default.active_index+'"]'];for(var i=document.querySelectorAll(e.join()),n=0;n<i.length;n++)"true"==i[n].getAttribute("amplitude-main-duration-minutes")?i[n].innerHTML=t:""!=d.default.active_playlist&&null!=d.default.active_playlist&&i[n].getAttribute("amplitude-playlist")==d.default.active_playlist?i[n].innerHTML=t:""==d.default.active_playlist||null==d.default.active_playlist&&!i[n].hasAttribute("amplitude-playlist")?i[n].innerHTML=t:i[n].innerHTML="00"},syncDurationSeconds:function(t){if(null!=d.default.active_playlist&&""!=d.default.active_playlist)var e=['.amplitude-duration-seconds[amplitude-main-duration-seconds="true"]','.amplitude-duration-seconds[amplitude-playlist-duration-seconds="true"][amplitude-playlist="'+d.default.active_playlist+'"]','.amplitude-duration-seconds[amplitude-song-index="'+d.default.active_index+'"]'];else e=['.amplitude-duration-seconds[amplitude-main-duration-seconds="true"]','.amplitude-duration-seconds[amplitude-song-index="'+d.default.active_index+'"]'];for(var i=document.querySelectorAll(e.join()),n=0;n<i.length;n++)"true"==i[n].getAttribute("amplitude-main-duration-seconds")?i[n].innerHTML=t:""!=d.default.active_playlist&&null!=d.default.active_playlist&&i[n].getAttribute("amplitude-playlist")==d.default.active_playlist?i[n].innerHTML=t:""==d.default.active_playlist||null==d.default.active_playlist&&!i[n].hasAttribute("amplitude-playlist")?i[n].innerHTML=t:i[n].innerHTML="00"},syncDurationTime:function(t){for(var e=['.amplitude-duration-time[amplitude-main-duration-time="true"]','.amplitude-duration-time[amplitude-playlist-main-duration-time="'+d.default.active_playlist+'"]','.amplitude-duration-time[amplitude-song-index="'+d.default.active_index+'"]'],i=document.querySelectorAll(e.join()),n=0;n<i.length;n++)isNaN(t.minutes)||isNaN(t.seconds)?i[n].innerHTML="00:00":i[n].innerHTML=t.minutes+":"+t.seconds},syncCountDownTime:function(t,e){var i="00:00";if(null!=t&&null!=e){var n=parseInt(t.seconds)+60*parseInt(t.minutes)+60*parseInt(t.hours)*60,s=parseInt(e.seconds)+60*parseInt(e.minutes)+60*parseInt(e.hours)*60;if(!isNaN(n)&&!isNaN(s)){var a=s-n,o=(Math.floor(a%60)<10?"0":"")+Math.floor(a%60);i=(Math.floor(a/60)<10?"0":"")+Math.floor(a/60)+":"+o}}for(var l=['.amplitude-time-remaining[amplitude-main-time-remaining="true"]','.amplitude-time-remaining[amplitude-playlist-main-time-remaining="'+d.default.active_playlist+'"]','.amplitude-time-remaining[amplitude-song-index="'+d.default.active_index+'"]'],r=document.querySelectorAll(l.join()),u=0;u<r.length;u++)r[u].innerHTML=i}};e.default=a,t.exports=e.default}])}),function(a,o,c){var p=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(t){a.setTimeout(t,1e3/60)},m=function(){var n={},s=o.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,i=t.length;e<i;e++)if(t[e]+"ransform"in s)return t[e].substr(0,t[e].length-1);return!1}();function t(t){return!1!==e&&(""===e?t:e+t.charAt(0).toUpperCase()+t.substr(1))}n.getTime=Date.now||function(){return(new Date).getTime()},n.extend=function(t,e){for(var i in e)t[i]=e[i]},n.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},n.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},n.prefixPointerEvent=function(t){return a.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},n.momentum=function(t,e,i,n,s,a){var o,l,r=t-e,u=c.abs(r)/i;return l=u/(a=void 0===a?6e-4:a),(o=t+u*u/(2*a)*(r<0?-1:1))<n?(o=s?n-s/2.5*(u/8):n,l=(r=c.abs(o-t))/u):0<o&&(o=s?s/2.5*(u/8):0,l=(r=c.abs(t)+o)/u),{destination:c.round(o),duration:l}};var i=t("transform");return n.extend(n,{hasTransform:!1!==i,hasPerspective:t("perspective")in s,hasTouch:"ontouchstart"in a,hasPointer:!(!a.PointerEvent&&!a.MSPointerEvent),hasTransition:t("transition")in s}),n.isBadAndroid=function(){var t=a.navigator.appVersion;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var e=t.match(/Safari\/(\d+.\d)/);return!(e&&"object"==typeof e&&2<=e.length)||parseFloat(e[1])<535.19}return!1}(),n.extend(n.style={},{transform:i,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),n.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},n.addClass=function(t,e){if(!n.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},n.removeClass=function(t,e){if(n.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},n.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},n.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return c.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*c.pow(2,-10*t)*c.sin((t-.055)*(2*c.PI)/.22)+1}}}),n.tap=function(t,e){var i=o.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},n.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||((e=o.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,i.dispatchEvent(e))},n}();function t(t,e){for(var i in this.wrapper="string"==typeof t?o.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!m.hasPointer,disableTouch:m.hasPointer||!m.hasTouch,disableMouse:m.hasPointer||m.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===a.onmousedown},e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&m.hasPerspective?" translateZ(0)":"",this.options.useTransition=m.hasTransition&&this.options.useTransition,this.options.useTransform=m.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?m.ease[this.options.bounceEasing]||m.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function l(t,e,i){var n=o.createElement("div"),s=o.createElement("div");return!0===i&&(n.style.cssText="position:absolute;z-index:9999",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),s.className="iScrollIndicator","h"==t?(!0===i&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",s.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(!0===i&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",s.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",e||(n.style.pointerEvents="none"),n.appendChild(s),n}function r(t,e){for(var i in this.wrapper="string"==typeof e.el?o.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},e)this.options[i]=e[i];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(m.addEvent(this.indicator,"touchstart",this),m.addEvent(a,"touchend",this)),this.options.disablePointer||(m.addEvent(this.indicator,m.prefixPointerEvent("pointerdown"),this),m.addEvent(a,m.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(m.addEvent(this.indicator,"mousedown",this),m.addEvent(a,"mouseup",this))),this.options.fade){this.wrapperStyle[m.style.transform]=this.scroller.translateZ;var n=m.style.transitionDuration;this.wrapperStyle[n]=m.isBadAndroid?"0.0001ms":"0ms";var s=this;m.isBadAndroid&&p(function(){"0.0001ms"===s.wrapperStyle[n]&&(s.wrapperStyle[n]="0s")}),this.wrapperStyle.opacity="0"}}t.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=m.eventType[t.type]&&0!==(t.which?t.button:t.button<2?0:4==t.button?1:2))return;if(this.enabled&&(!this.initiated||m.eventType[t.type]===this.initiated)){!this.options.preventDefault||m.isBadAndroid||m.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=m.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=m.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,e=this.getComputedPosition(),this._translate(c.round(e.x),c.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&m.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n,s,a=t.touches?t.touches[0]:t,o=a.pageX-this.pointX,l=a.pageY-this.pointY,r=m.getTime();if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=o,this.distY+=l,n=c.abs(this.distX),s=c.abs(this.distY),!(300<r-this.endTime&&n<10&&s<10)){if(this.directionLocked||this.options.freeScroll||(n>s+this.options.directionLockThreshold?this.directionLocked="h":s>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);o=0}o=this.hasHorizontalScroll?o:0,l=this.hasVerticalScroll?l:0,e=this.x+o,i=this.y+l,(0<e||e<this.maxScrollX)&&(e=this.options.bounce?this.x+o/3:0<e?0:this.maxScrollX),(0<i||i<this.maxScrollY)&&(i=this.options.bounce?this.y+l/3:0<i?0:this.maxScrollY),this.directionX=0<o?-1:o<0?1:0,this.directionY=0<l?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),300<r-this.startTime&&(this.startTime=r,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&m.eventType[t.type]===this.initiated){this.options.preventDefault&&!m.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();t.changedTouches&&t.changedTouches[0];var e,i,n=m.getTime()-this.startTime,s=c.round(this.x),a=c.round(this.y),o=c.abs(s-this.startX),l=c.abs(a-this.startY),r=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=m.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(s,a),!this.moved)return this.options.tap&&m.tap(t,this.options.tap),this.options.click&&m.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&n<200&&o<100&&l<100)this._execEvent("flick");else{if(this.options.momentum&&n<300&&(e=this.hasHorizontalScroll?m.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},i=this.hasVerticalScroll?m.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},s=e.destination,a=i.destination,r=c.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var d=this._nearestSnap(s,a);this.currentPage=d,r=this.options.snapSpeed||c.max(c.max(c.min(c.abs(s-d.x),1e3),c.min(c.abs(a-d.y),1e3)),300),s=d.x,a=d.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}if(s!=this.x||a!=this.y)return(0<s||s<this.maxScrollX||0<a||a<this.maxScrollY)&&(u=m.ease.quadratic),void this.scrollTo(s,a,r,u);this._execEvent("scrollEnd")}}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||0<this.x?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||0<this.y?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=m.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);-1<i&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||m.ease.circular,this.isInTransition=this.options.useTransition&&0<i;var s=this.options.useTransition&&n.style;!i||s?(s&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,i,n,s){if(t=t.nodeType?t:this.scroller.querySelector(t)){var a=m.offset(t);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top,!0===i&&(i=c.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===n&&(n=c.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),a.left-=i||0,a.top-=n||0,a.left=0<a.left?0:a.left<this.maxScrollX?this.maxScrollX:a.left,a.top=0<a.top?0:a.top<this.maxScrollY?this.maxScrollY:a.top,e=null==e||"auto"===e?c.max(c.abs(this.x-a.left),c.abs(this.y-a.top)):e,this.scrollTo(a.left,a.top,e,s)}},_transitionTime:function(t){t=t||0;var e=m.style.transitionDuration;if(this.scrollerStyle[e]=t+"ms",!t&&m.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var i=this;p(function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")})}if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[m.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[m.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=c.round(t),e=c.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(t){var e=t?m.removeEvent:m.addEvent,i=this.options.bindToWrapper?this.wrapper:a;e(a,"orientationchange",this),e(a,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(i,"mousemove",this),e(i,"mousecancel",this),e(i,"mouseup",this)),m.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,m.prefixPointerEvent("pointerdown"),this),e(i,m.prefixPointerEvent("pointermove"),this),e(i,m.prefixPointerEvent("pointercancel"),this),e(i,m.prefixPointerEvent("pointerup"),this)),m.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(i,"touchmove",this),e(i,"touchcancel",this),e(i,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,i=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(t=+((i=i[m.style.transform].split(")")[0].split(", "))[12]||i[4]),e=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),e=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_initIndicators:function(){var t,e=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,n=[],s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:l("v",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:l("h",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators));for(var a=n.length;a--;)this.indicators.push(new r(this,n[a]));function o(t){if(s.indicators)for(var e=s.indicators.length;e--;)t.call(s.indicators[e])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){o(function(){this.fade()})}),this.on("scrollCancel",function(){o(function(){this.fade()})}),this.on("scrollStart",function(){o(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){o(function(){this.fade(1,!0)})})),this.on("refresh",function(){o(function(){this.refresh()})}),this.on("destroy",function(){o(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){m.addEvent(this.wrapper,"wheel",this),m.addEvent(this.wrapper,"mousewheel",this),m.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,m.removeEvent(this.wrapper,"wheel",this),m.removeEvent(this.wrapper,"mousewheel",this),m.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault();var e,i,n,s,a=this;if(void 0===this.wheelTimeout&&a._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){a.options.snap||a._execEvent("scrollEnd"),a.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return n=this.currentPage.pageX,s=this.currentPage.pageY,0<e?n--:e<0&&n++,0<i?s--:i<0&&s++,void this.goToPage(n,s);n=this.x+c.round(this.hasHorizontalScroll?e:0),s=this.y+c.round(this.hasVerticalScroll?i:0),this.directionX=0<e?-1:e<0?1:0,this.directionY=0<i?-1:i<0?1:0,0<n?n=0:n<this.maxScrollX&&(n=this.maxScrollX),0<s?s=0:s<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(n,s,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,n,s,a,o=0,l=0,r=0,u=this.options.snapStepX||this.wrapperWidth,d=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(i=c.round(u/2),n=c.round(d/2);r>-this.scrollerWidth;){for(this.pages[o]=[],s=t=0;s>-this.scrollerHeight;)this.pages[o][t]={x:c.max(r,this.maxScrollX),y:c.max(s,this.maxScrollY),width:u,height:d,cx:r-i,cy:s-n},s-=d,t++;r-=u,o++}else for(t=(a=this.options.snap).length,e=-1;o<t;o++)(0===o||a[o].offsetLeft<=a[o-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),r=c.max(-a[o].offsetLeft,this.maxScrollX),s=c.max(-a[o].offsetTop,this.maxScrollY),i=r-c.round(a[o].offsetWidth/2),n=s-c.round(a[o].offsetHeight/2),this.pages[l][e]={x:r,y:s,width:a[o].offsetWidth,height:a[o].offsetHeight,cx:i,cy:n},r>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,n=this.pages.length,s=0;if(c.abs(t-this.absStartX)<this.snapThresholdX&&c.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(0<t?t=0:t<this.maxScrollX&&(t=this.maxScrollX),0<e?e=0:e<this.maxScrollY&&(e=this.maxScrollY);i<n;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(n=this.pages[i].length;s<n;s++)if(e>=this.pages[0][s].cy){e=this.pages[0][s].y;break}return i==this.currentPage.pageX&&((i+=this.directionX)<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),s==this.currentPage.pageY&&((s+=this.directionY)<0?s=0:s>=this.pages[0].length&&(s=this.pages[0].length-1),e=this.pages[0][s].y),{x:t,y:e,pageX:i,pageY:s}},goToPage:function(t,e,i,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var s=this.pages[t][e].x,a=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||c.max(c.max(c.min(c.abs(s-this.x),1e3),c.min(c.abs(a-this.y),1e3)),300):i,this.currentPage={x:s,y:a,pageX:t,pageY:e},this.scrollTo(s,a,i,n)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;++i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;--i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(t){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];m.addEvent(a,"keydown",this),this.on("destroy",function(){m.removeEvent(a,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,n=i?this.currentPage.pageX:this.x,s=i?this.currentPage.pageY:this.y,a=m.getTime(),o=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(c.round(e.x),c.round(e.y)),this.isInTransition=!1),this.keyAcceleration=a-o<200?c.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=i?1:this.wrapperWidth:s+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=i?1:this.wrapperWidth:s-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=i?this.pages.length-1:this.maxScrollX,s=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:s=n=0;break;case this.options.keyBindings.left:n+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:s+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:s-=i?1:5+this.keyAcceleration>>0;break;default:return}i?this.goToPage(n,s):(0<n?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),0<s?(s=0,this.keyAcceleration=0):s<this.maxScrollY&&(s=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,s,0),this.keyTime=a)}},_animate:function(a,o,l,r){var u=this,d=this.x,c=this.y,h=m.getTime(),f=h+l;this.isAnimating=!0,function t(){var e,i,n,s=m.getTime();if(f<=s)return u.isAnimating=!1,u._translate(a,o),void(u.resetPosition(u.options.bounceTime)||u._execEvent("scrollEnd"));n=r(s=(s-h)/l),e=(a-d)*n+d,i=(o-c)*n+c,u._translate(e,i),u.isAnimating&&p(t)}()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},r.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(m.removeEvent(this.indicator,"touchstart",this),m.removeEvent(this.indicator,m.prefixPointerEvent("pointerdown"),this),m.removeEvent(this.indicator,"mousedown",this),m.removeEvent(a,"touchmove",this),m.removeEvent(a,m.prefixPointerEvent("pointermove"),this),m.removeEvent(a,"mousemove",this),m.removeEvent(a,"touchend",this),m.removeEvent(a,m.prefixPointerEvent("pointerup"),this),m.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=m.getTime(),this.options.disableTouch||m.addEvent(a,"touchmove",this),this.options.disablePointer||m.addEvent(a,m.prefixPointerEvent("pointermove"),this),this.options.disableMouse||m.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,n,s,a=t.touches?t.touches[0]:t;m.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=a.pageX-this.lastPointX,this.lastPointX=a.pageX,i=a.pageY-this.lastPointY,this.lastPointY=a.pageY,n=this.x+e,s=this.y+i,this._pos(n,s),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),m.removeEvent(a,"touchmove",this),m.removeEvent(a,m.prefixPointerEvent("pointermove"),this),m.removeEvent(a,"mousemove",this),this.scroller.options.snap){var e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-e.x),1e3),c.min(c.abs(this.scroller.y-e.y),1e3)),300);this.scroller.x==e.x&&this.scroller.y==e.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=e,this.scroller.scrollTo(e.x,e.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=m.style.transitionDuration;if(this.indicatorStyle[e]=t+"ms",!t&&m.isBadAndroid){this.indicatorStyle[e]="0.0001ms";var i=this;p(function(){"0.0001ms"===i.indicatorStyle[e]&&(i.indicatorStyle[e]="0s")})}},transitionTimingFunction:function(t){this.indicatorStyle[m.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(m.addClass(this.wrapper,"iScrollBothScrollbars"),m.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(m.removeClass(this.wrapper,"iScrollBothScrollbars"),m.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=c.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=c.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=c.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=c.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[m.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?c.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?c.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[m.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},t.utils=m,"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):a.IScroll=t}(window,document,Math),function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";var i=Array.prototype.slice,n=t.console,c=void 0===n?function(){}:function(t){n.error(t)};function s(u,s,d){(d=d||e||t.jQuery)&&(s.prototype.option||(s.prototype.option=function(t){d.isPlainObject(t)&&(this.options=d.extend(!0,this.options,t))}),d.fn[u]=function(t){if("string"!=typeof t)return n=t,this.each(function(t,e){var i=d.data(e,u);i?(i.option(n),i._init()):(i=new s(e,n),d.data(e,u,i))}),this;var a,o,l,r,n,e=i.call(arguments,1);return o=e,r="$()."+u+'("'+(a=t)+'")',this.each(function(t,e){var i=d.data(e,u);if(i){var n=i[a];if(n&&"_"!=a.charAt(0)){var s=n.apply(i,o);l=void 0===l?s:l}else c(r+" is not a valid method")}else c(u+" not initialized. Cannot call methods, i.e. "+r)}),void 0!==l?l:this},a(d))}function a(t){!t||t&&t.bridget||(t.bridget=s)}return a(e||t.jQuery),s}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var a=i[s];n&&n[a]&&(this.off(t,a),delete n[a]),a.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function g(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var i="undefined"==typeof console?function(){}:function(t){console.error(t)},y=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],_=y.length;function b(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var S,x=!1;return function(t){if(function(){if(!x){x=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var i=b(t);S=200==Math.round(g(i.width)),S,e.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=b(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<_;e++)t[y[e]]=0;return t}();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var n=i.isBorderBox="border-box"==e.boxSizing,s=0;s<_;s++){var a=y[s],o=e[a],l=parseFloat(o);i[a]=isNaN(l)?0:l}var r=i.paddingLeft+i.paddingRight,u=i.paddingTop+i.paddingBottom,d=i.marginLeft+i.marginRight,c=i.marginTop+i.marginBottom,h=i.borderLeftWidth+i.borderRightWidth,f=i.borderTopWidth+i.borderBottomWidth,p=n&&S,m=g(e.width);!1!==m&&(i.width=m+(p?0:r+h));var v=g(e.height);return!1!==v&&(i.height=v+(p?0:u+f)),i.innerWidth=i.width-(r+h),i.innerHeight=i.height-(u+f),i.outerWidth=i.width+d,i.outerHeight=i.height+c,i}}}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(u,a){var d={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;d.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},d.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},d.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,a(t,e))return t},d.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.filterFindElements=function(t,n){t=d.makeArray(t);var s=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){a(t,n)&&s.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)s.push(e[i])}else s.push(t)}),s},d.debounceMethod=function(t,e,n){n=n||100;var s=t.prototype[e],a=e+"Timeout";t.prototype[e]=function(){var t=this[a];clearTimeout(t);var e=arguments,i=this;this[a]=setTimeout(function(){s.apply(i,e),delete i[a]},n)}},d.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},d.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var c=u.console;return d.htmlInit=function(l,r){d.docReady(function(){var t=d.toDashed(r),s="data-"+t,e=document.querySelectorAll("["+s+"]"),i=document.querySelectorAll(".js-"+t),n=d.makeArray(e).concat(d.makeArray(i)),a=s+"-options",o=u.jQuery;n.forEach(function(t){var e,i=t.getAttribute(s)||t.getAttribute(a);try{e=i&&JSON.parse(i)}catch(e){return void(c&&c.error("Error parsing "+s+" on "+t.className+": "+e))}var n=new l(t,e);o&&o.data(t,r,n)})})},d}),function(e,i){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("get-size")):(e.Flickity=e.Flickity||{},e.Flickity.Cell=i(e,e.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0},n.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach(function(t){t.select()})},e.unselect=function(){this.cells.forEach(function(t){t.unselect()})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(e,i){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("fizzy-ui-utils")):(e.Flickity=e.Flickity||{},e.Flickity.animatePrototype=i(e,e.fizzyUIUtils))}(window,function(t,e){return{startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame(function(){e.animate()})}},positionSlider:function(){var t=this.x;this.options.wrapAround&&1<this.cells.length&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n],a=0<e?i:0;s.wrapShift(a),e-=s.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(t)}}}}),function(o,l){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(t,e,i,n,s,a){return l(o,t,e,i,n,s,a)});else if("object"==typeof module&&module.exports)module.exports=l(o,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var t=o.Flickity;o.Flickity=l(o,o.EvEmitter,o.getSize,o.fizzyUIUtils,t.Cell,t.Slide,t.animatePrototype)}}(window,function(n,t,e,l,i,o,s){var r=n.jQuery,a=n.getComputedStyle,u=n.console;function d(t,e){for(t=l.makeArray(t);t.length;)e.appendChild(t.shift())}var c=0,h={};function f(t,e){var i=l.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var n=h[this.element.flickityGUID];return n.option(e),n}r&&(this.$element=r(this.element)),this.options=l.extend({},this.constructor.defaults),this.option(e),this._create()}else u&&u.error("Bad element for Flickity: "+(i||t))}f.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},f.createMethods=[];var p=f.prototype;l.extend(p,t.prototype),p._create=function(){var t=this.guid=++c;for(var e in this.element.flickityGUID=t,(h[t]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&n.addEventListener("resize",this),this.options.on){var i=this.options.on[e];this.on(e,i)}f.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},p.option=function(t){l.extend(this.options,t)},p.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),d(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},p._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},p._filterFindCellElements=function(t){return l.filterFindElements(t,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},p._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new i(t,this)},this)},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(0<t){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,s=t;s<n;s++){var a=this.cells[s];a.setPosition(e),e+=a.size.outerWidth,this.maxCellHeight=Math.max(a.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},p._sizeCells=function(t){t.forEach(function(t){t.getSize()})},p.updateSlides=function(){if(this.slides=[],this.cells.length){var n=new o(this);this.slides.push(n);var s="left"==this.originSide?"marginRight":"marginLeft",a=this._getCanCellFit();this.cells.forEach(function(t,e){if(n.cells.length){var i=n.outerWidth-n.firstMargin+(t.size.outerWidth-t.size[s]);a.call(this,e,i)||(n.updateTarget(),n=new o(this),this.slides.push(n)),n.addCell(t)}else n.addCell(t)},this),n.updateTarget(),this.updateSelectedSlide()}},p._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=e(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return p.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},p.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},p._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},p._getGapCells=function(t,e,i){for(var n=[];0<t;){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},p._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],s=n<this.size.innerWidth,a=this.cursorPosition+this.cells[0].size[e],o=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){t.target=s?n*this.cellAlign:(t.target=Math.max(t.target,a),Math.min(t.target,o))},this)}},p.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),r&&this.$element){var s=t+=this.options.namespaceJQueryEvents?".flickity":"";if(e){var a=r.Event(e);a.type=t,s=a}this.$element.trigger(s,i)}},p.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=l.modulo(t,this.slides.length)),this.slides[t])){var n=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=n&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},p._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&1<e))return t;var i=l.modulo(t,e),n=Math.abs(i-this.selectedIndex),s=Math.abs(i+e-this.selectedIndex),a=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&s<n?t+=e:!this.isDragSelect&&a<n&&(t-=e),t<0?this.x-=this.slideableWidth:e<=t&&(this.x+=this.slideableWidth)},p.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},p.next=function(t,e){this.select(this.selectedIndex+1,t,e)},p.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),(this.selectedSlide=t).select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t&&this.queryCell(t))return void this.selectCell(t,!1,!0);var e=0;t&&this.slides[t]&&(e=t),this.select(e,!1,!0)}},p.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var s=this.getCellSlideIndex(n);this.select(s,e,i)}},p.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++)if(-1!=this.slides[e].cells.indexOf(t))return e},p.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},p.getCells=function(t){t=l.makeArray(t);var i=[];return t.forEach(function(t){var e=this.getCell(t);e&&i.push(e)},this),i},p.getCellElements=function(){return this.cells.map(function(t){return t.element})},p.getParentCell=function(t){return this.getCell(t)||(t=l.getParent(t,".flickity-slider > *"),this.getCell(t))},p.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(i<=1+2*t)return this.getCellElements();for(var n=[],s=e-t;s<=e+t;s++){var a=this.options.wrapAround?l.modulo(s,i):s,o=this.slides[a];o&&(n=n.concat(o.getCellElements()))}return n},p.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#\.]?[\d\/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},p.uiChange=function(){this.emitEvent("uiChange")},p.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},p.onresize=function(){this.watchCSS(),this.resize()},l.debounceMethod(f,"onresize",150),p.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=l.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},p.watchCSS=function(){this.options.watchCSS&&(-1!=a(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},p.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=f.keyboardHandlers[t.keyCode];i&&i.call(this)}},f.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},p.focus=function(){var t=n.pageYOffset;this.element.focus({preventScroll:!0}),n.pageYOffset!=t&&n.scrollTo(n.pageXOffset,t)},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),n.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete h[this.guid]},l.extend(p,s),f.data=function(t){var e=(t=l.getQueryElement(t))&&t.flickityGUID;return e&&h[e]},l.htmlInit(f,"flickity"),r&&r.bridget&&r.bridget("flickity",f),f.setJQuery=function(t){r=t},f.Cell=i,f.Slide=o,f}),function(e,i){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.Unipointer=i(e,e.EvEmitter)}(window,function(s,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(t,e){var i=(e=void 0===e||e)?"addEventListener":"removeEventListener",n="mousedown";s.PointerEvent?n="pointerdown":"ontouchstart"in s&&(n="touchstart"),t[i](n,this)},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(t){if(t){var e=n[t.type];e.forEach(function(t){s.addEventListener(t,this)},this),this._boundPointerEvents=e}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){s.removeEventListener(t,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},i._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},i.pointerDone=function(){},i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},e.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},e}),function(e,i){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("unipointer")):e.Unidragger=i(e,e.Unipointer)}(window,function(a,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var e=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",n=0;n<this.handles.length;n++){var s=this.handles[n];this._bindStartEvent(s,t),s[e]("click",this),a.PointerEvent&&(s.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var s={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(t){var e=s[t.target.nodeName],i=o[t.target.type],n=!e||i;return n||this._pointerReset(),n},i.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},i.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},i._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},i.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},i._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},i.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},i._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},i.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},i._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},i.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},i.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},i._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},e.getPointerPoint=t.getPointerPoint,e}),function(n,s){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(t,e,i){return s(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=s(n,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):n.Flickity=s(n,n.Flickity,n.Unidragger,n.fizzyUIUtils)}(window,function(i,t,e,l){l.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var n=t.prototype;l.extend(n,e.prototype),n._touchActionValue="pan-y";var s="createTouch"in document,a=!1;n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),s&&!a&&(i.addEventListener("touchmove",function(){}),a=!0)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n.pointerDown=function(t,e){this.isDraggable?this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=r(),i.addEventListener("scroll",this),this._pointerDownDefault(t,e)):this._pointerDownDefault(t,e)},n._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var o={INPUT:!0,TEXTAREA:!0,SELECT:!0};function r(){return{x:i.pageXOffset,y:i.pageYOffset}}return n.pointerDownFocus=function(t){o[t.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=o[t.target.nodeName];e||i||n||t.preventDefault()},n.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},n.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},n.pointerDone=function(){i.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(t,e){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),i.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[e]))},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},n.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x=i.x%this.slideableWidth);var s=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var a=Math.max(-this.slides[0].target,this.dragStartPosition);s=a<s?.5*(s+a):s;var o=Math.min(-this.getLastSlide().target,this.dragStartPosition);s=s<o?.5*(s+o):s}this.dragX=s,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},n.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},n.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1);return i.distance<n.distance?i.index:n.index},n._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,s=1/0,a=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};a(e,s)&&(n+=i,s=e,null!==(e=this.getSlideDistance(-t,n)));)e=Math.abs(e);return{distance:s,index:n-i}},n.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&1<i,s=n?l.modulo(e,i):e,a=this.slides[s];if(!a)return null;var o=n?this.slideableWidth*Math.floor(e/i):0;return t-(a.target+o)},n.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return 0<t&&0<e?1:t<0&&e<0?-1:0},n.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,s=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,s])},n.onscroll=function(){var t=r(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(3<Math.abs(e)||3<Math.abs(i))&&this._pointerDone()},t}),function(n,s){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(t,e,i){return s(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=s(n,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):s(n,n.Flickity,n.Unipointer,n.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";var s="http://www.w3.org/2000/svg";function a(t,e){this.direction=t,this.parent=e,this._create()}(a.prototype=Object.create(i.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},a.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},a.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},a.prototype.createSVG=function(){var t=document.createElementNS(s,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e,i=document.createElementNS(s,"path"),n="string"!=typeof(e=this.parent.options.arrowShape)?"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z":e;return i.setAttribute("d",n),i.setAttribute("class","arrow"),this.isLeft||i.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(i),t},a.prototype.handleEvent=n.handleEvent,a.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},a.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},a.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},a.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&1<t.length)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()}},a.prototype.destroy=function(){this.deactivate(),this.allOff()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var o=e.prototype;return o._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new a(-1,this),this.nextButton=new a(1,this),this.on("activate",this.activatePrevNextButtons))},o.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},o.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=a,e}),function(n,s){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(t,e,i){return s(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=s(n,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):s(n,n.Flickity,n.Unipointer,n.fizzyUIUtils)}(window,function(t,e,i,n){function s(t){this.parent=t,this._create()}(s.prototype=Object.create(i.prototype))._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;0<t?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,s=n+t,a=n;a<s;a++){var o=document.createElement("li");o.className="dot",o.setAttribute("aria-label","Page dot "+(a+1)),e.appendChild(o),i.push(o)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},s.prototype.onTap=s.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=s,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var a=e.prototype;return a._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},a.activatePageDots=function(){this.pageDots.activate()},a.updateSelectedPageDots=function(){this.pageDots.updateSelected()},a.updatePageDots=function(){this.pageDots.setDots()},a.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}),function(t,n){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(t,e,i){return n(t,e,i)}):"object"==typeof module&&module.exports?module.exports=n(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):n(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i){function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(n.prototype=Object.create(t.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var s=i.prototype;return s._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},s.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(i,n){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./flickity"),require("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;return i.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var n=this.cells.length;e=void 0===e?n:e;var s,a,o=(s=i,a=document.createDocumentFragment(),s.forEach(function(t){a.appendChild(t.element)}),a),l=e==n;if(l)this.slider.appendChild(o);else{var r=this.cells[e].element;this.slider.insertBefore(o,r)}if(0===e)this.cells=i.concat(this.cells);else if(l)this.cells=this.cells.concat(i);else{var u=this.cells.splice(e,n-e);this.cells=this.cells.concat(i).concat(u)}this._sizeCells(i),this.cellChange(e,!0)}},i.append=function(t){this.insert(t,this.cells.length)},i.prepend=function(t){this.insert(t,0)},i.remove=function(t){var e=this.getCells(t);if(e&&e.length){var i=this.cells.length-1;e.forEach(function(t){t.remove();var e=this.cells.indexOf(t);i=Math.min(e,i),n.removeFrom(this.cells,t)},this),this.cellChange(i,!0)}},i.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},i.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}),function(i,n){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./flickity"),require("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,a){"use strict";e.createMethods.push("_createLazyload");var i=e.prototype;function s(t,e){this.img=t,this.flickity=e,this.load()}return i._createLazyload=function(){this.on("select",this.lazyLoad)},i.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),n=[];i.forEach(function(t){var e=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),i=t.getAttribute("data-flickity-lazyload-src"),n=t.getAttribute("data-flickity-lazyload-srcset");if(e||i||n)return[t]}var s=t.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return a.makeArray(s)}(t);n=n.concat(e)}),n.forEach(function(t){new s(t,this)},this)}},s.prototype.handleEvent=a.handleEvent,s.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},s.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},s.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},s.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(t){return t}),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function(n,s){n.createMethods.push("_createAsNavFor");var t=n.prototype;return t._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout(function(){e.setNavCompanion(t)})}},t.setNavCompanion=function(t){t=s.getQueryElement(t);var e=n.data(t);if(e&&e!=this){this.navCompanion=e;var i=this;this.onNavCompanionSelect=function(){i.navCompanionSelect()},e.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},t.navCompanionSelect=function(t){if(this.navCompanion){var e,i=this.navCompanion.selectedCells[0],n=this.navCompanion.cells.indexOf(i),s=n+this.navCompanion.selectedCells.length-1,a=Math.floor((s-(e=n))*this.navCompanion.cellAlign+e);if(this.selectCell(a,!1,t),this.removeNavSelectedElements(),!(a>=this.cells.length)){var o=this.cells.slice(n,s+1);this.navSelectedElements=o.map(function(t){return t.element}),this.changeNavSelectedClass("add")}}},t.changeNavSelectedClass=function(e){this.navSelectedElements.forEach(function(t){t.classList[e]("is-nav-selected")})},t.activateAsNavFor=function(){this.navCompanionSelect(!0)},t.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},t.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},t.deactivateAsNavFor=function(){this.removeNavSelectedElements()},t.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},n}),function(e,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){var a=e.jQuery,o=e.console;function l(t,e){for(var i in e)t[i]=e[i];return t}var r=Array.prototype.slice;function u(t,e,i){if(!(this instanceof u))return new u(t,e,i);var n,s=t;"string"==typeof t&&(s=document.querySelectorAll(t)),s?(this.elements=(n=s,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?r.call(n):[n]),this.options=l({},this.options),"function"==typeof e?i=e:l(this.options,e),i&&this.on("always",i),this.getImages(),a&&(this.jqDeferred=new a.Deferred),setTimeout(this.check.bind(this))):o.error("Bad element for imagesLoaded "+(s||t))}(u.prototype=Object.create(t.prototype)).options={},u.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},u.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var a=t.querySelectorAll(this.options.background);for(n=0;n<a.length;n++){var o=a[n];this.addElementBackgroundImages(o)}}}};var d={1:!0,9:!0,11:!0};function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}return u.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[2];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}},u.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},u.prototype.addBackground=function(t,e){var i=new n(t,e);this.images.push(i)},u.prototype.check=function(){var n=this;function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},u.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&o&&o.log("progress: "+i,t,e)},u.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},(i.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},u.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((a=t).fn.imagesLoaded=function(t,e){return new u(this,t,e).jqDeferred.promise(a(this))})},u.makeJQueryPlugin(),u}),function(i,n){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("flickity"),require("imagesloaded")):i.Flickity=n(i,i.Flickity,i.imagesLoaded)}(window,function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var n=e.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){if(this.options.imagesLoaded){var n=this;i(this.slider).on("progress",function(t,e){var i=n.getParentCell(e.img);n.cellSizeChange(i&&i.element),n.options.freeScroll||n.positionSliderAtSelected()})}},e}),function(t,e){var i=function(n,d){"use strict";if(d.getElementsByClassName){var c,h,f=d.documentElement,a=n.Date,s=n.HTMLPictureElement,o="addEventListener",p="getAttribute",e=n[o],m=n.setTimeout,i=n.requestAnimationFrame||m,l=n.requestIdleCallback,v=/^picture$/i,r=["load","error","lazyincluded","_lazyloaded"],u={},g=Array.prototype.forEach,y=function(t,e){return u[e]||(u[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),u[e].test(t[p]("class")||"")&&u[e]},_=function(t,e){y(t,e)||t.setAttribute("class",(t[p]("class")||"").trim()+" "+e)},b=function(t,e){var i;(i=y(t,e))&&t.setAttribute("class",(t[p]("class")||"").replace(i," "))},S=function(e,i,t){var n=t?o:"removeEventListener";t&&S(e,i),r.forEach(function(t){e[n](t,i)})},x=function(t,e,i,n,s){var a=d.createEvent("CustomEvent");return i||(i={}),i.instance=c,a.initCustomEvent(e,!n,!s,i),t.dispatchEvent(a),a},P=function(t,e){var i;!s&&(i=n.picturefill||h.pf)?i({reevaluate:!0,elements:[t]}):e&&e.src&&(t.src=e.src)},E=function(t,e){return(getComputedStyle(t,null)||{})[e]},w=function(t,e,i){for(i=i||t.offsetWidth;i<h.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},k=(xt=[],Pt=St=[],(wt=function(t,e){_t&&!e?t.apply(this,arguments):(Pt.push(t),bt||(bt=!0,(d.hidden?m:i)(Et)))})._lsFlush=Et=function(){var t=Pt;for(Pt=St.length?xt:St,bt=!(_t=!0);t.length;)t.shift()();_t=!1},wt),t=function(i,t){return t?function(){k(i)}:function(){var t=this,e=arguments;k(function(){i.apply(t,e)})}},C=function(t){var e,i,n=function(){e=null,t()},s=function(){var t=a.now()-i;t<99?m(s,99-t):(l||n)(n)};return function(){i=a.now(),e||(e=m(s,99))}};!function(){var t,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in h=n.lazySizesConfig||n.lazysizesConfig||{},e)t in h||(h[t]=e[t]);n.lazySizesConfig=h,m(function(){h.init&&L()})}();var A=(it=/^img$/i,nt=/^iframe$/i,st="onscroll"in n&&!/glebot/.test(navigator.userAgent),lt=-1,rt=function(t){ot--,t&&t.target&&S(t.target,rt),(!t||ot<0||!t.target)&&(ot=0)},ut=function(t,e){var i,n=t,s="hidden"==E(d.body,"visibility")||"hidden"!=E(t,"visibility");for(Y-=e,R+=e,j-=e,F+=e;s&&(n=n.offsetParent)&&n!=d.body&&n!=f;)(s=0<(E(n,"opacity")||1))&&"visible"!=E(n,"overflow")&&(i=n.getBoundingClientRect(),s=F>i.left&&j<i.right&&R>i.top-1&&Y<i.bottom+1);return s},G=dt=function(){var t,e,i,n,s,a,o,l,r,u=c.elements;if((O=h.loadMode)&&ot<8&&(t=u.length)){e=0,lt++,null==V&&("expand"in h||(h.expand=500<f.clientHeight&&500<f.clientWidth?500:370),U=h.expand,V=U*h.expFactor),at<V&&ot<1&&2<lt&&2<O&&!d.hidden?(at=V,lt=0):at=1<O&&1<lt&&ot<6?U:0;for(;e<t;e++)if(u[e]&&!u[e]._lazyRace)if(st)if((l=u[e][p]("data-expand"))&&(a=1*l)||(a=at),r!==a&&(X=innerWidth+a*Q,q=innerHeight+a,o=-1*a,r=a),i=u[e].getBoundingClientRect(),(R=i.bottom)>=o&&(Y=i.top)<=q&&(F=i.right)>=o*Q&&(j=i.left)<=X&&(R||F||j||Y)&&(h.loadHidden||"hidden"!=E(u[e],"visibility"))&&(B&&ot<3&&!l&&(O<3||lt<4)||ut(u[e],a))){if(gt(u[e]),s=!0,9<ot)break}else!s&&B&&!n&&ot<4&&lt<4&&2<O&&(I[0]||h.preloadAfterLoad)&&(I[0]||!l&&(R||F||j||Y||"auto"!=u[e][p](h.sizesAttr)))&&(n=I[0]||u[e]);else gt(u[e]);n&&!s&&gt(n)}},$=ot=at=0,Z=h.throttleDelay,J=h.ricTimeout,tt=function(){K=!1,$=a.now(),G()},et=l&&49<J?function(){l(tt,{timeout:J}),J!==h.ricTimeout&&(J=h.ricTimeout)}:t(function(){m(tt)},!0),ct=function(t){var e;(t=!0===t)&&(J=33),K||(K=!0,(e=Z-(a.now()-$))<0&&(e=0),t||e<9?et():m(et,e))},ft=t(ht=function(t){_(t.target,h.loadedClass),b(t.target,h.loadingClass),S(t.target,pt),x(t.target,"lazyloaded")}),pt=function(t){ft({target:t.target})},mt=function(t){var e,i=t[p](h.srcsetAttr);(e=h.customMedia[t[p]("data-media")||t[p]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},vt=t(function(t,e,i,n,s){var a,o,l,r,u,d;(u=x(t,"lazybeforeunveil",e)).defaultPrevented||(n&&(i?_(t,h.autosizesClass):t.setAttribute("sizes",n)),o=t[p](h.srcsetAttr),a=t[p](h.srcAttr),s&&(l=t.parentNode,r=l&&v.test(l.nodeName||"")),d=e.firesLoad||"src"in t&&(o||a||r),u={target:t},d&&(S(t,rt,!0),clearTimeout(H),H=m(rt,2500),_(t,h.loadingClass),S(t,pt,!0)),r&&g.call(l.getElementsByTagName("source"),mt),o?t.setAttribute("srcset",o):a&&!r&&(nt.test(t.nodeName)?function(e,i){try{e.contentWindow.location.replace(i)}catch(t){e.src=i}}(t,a):t.src=a),s&&(o||r)&&P(t,{src:a})),t._lazyRace&&delete t._lazyRace,b(t,h.lazyClass),k(function(){(!d||t.complete&&1<t.naturalWidth)&&(d?rt(u):ot--,ht(u))},!0)}),yt=function(){if(!B){if(a.now()-W<999)return void m(yt,999);var t=C(function(){h.loadMode=3,ct()});B=!0,h.loadMode=3,ct(),e("scroll",function(){3==h.loadMode&&(h.loadMode=2),t()},!0)}},{_:function(){W=a.now(),c.elements=d.getElementsByClassName(h.lazyClass),I=d.getElementsByClassName(h.lazyClass+" "+h.preloadClass),Q=h.hFac,e("scroll",ct,!0),e("resize",ct,!0),n.MutationObserver?new MutationObserver(ct).observe(f,{childList:!0,subtree:!0,attributes:!0}):(f[o]("DOMNodeInserted",ct,!0),f[o]("DOMAttrModified",ct,!0),setInterval(ct,999)),e("hashchange",ct,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){d[o](t,ct,!0)}),/d$|^c/.test(d.readyState)?yt():(e("load",yt),d[o]("DOMContentLoaded",ct),m(yt,2e4)),c.elements.length?(dt(),k._lsFlush()):ct()},checkElems:ct,unveil:gt=function(t){var e,i=it.test(t.nodeName),n=i&&(t[p](h.sizesAttr)||t[p]("sizes")),s="auto"==n;(!s&&B||!i||!t[p]("src")&&!t.srcset||t.complete||y(t,h.errorClass)||!y(t,h.lazyClass))&&(e=x(t,"lazyunveilread").detail,s&&T.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,ot++,vt(t,e,s,n,i))}}),T=(z=t(function(t,e,i,n){var s,a,o;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),v.test(e.nodeName||""))for(s=e.getElementsByTagName("source"),a=0,o=s.length;a<o;a++)s[a].setAttribute("sizes",n);i.detail.dataAttr||P(t,i.detail)}),D=function(t,e,i){var n,s=t.parentNode;s&&(i=w(t,s,i),(n=x(t,"lazybeforesizes",{width:i,dataAttr:!!e})).defaultPrevented||(i=n.detail.width)&&i!==t._lazysizesWidth&&z(t,s,n,i))},{_:function(){M=d.getElementsByClassName(h.autosizesClass),e("resize",N)},checkElems:N=C(function(){var t,e=M.length;if(e)for(t=0;t<e;t++)D(M[t])}),updateElem:D}),L=function(){L.i||(L.i=!0,T._(),A._())};return c={cfg:h,autoSizer:T,loader:A,init:L,uP:P,aC:_,rC:b,hC:y,fire:x,gW:w,rAF:k}}var M,z,D,N;var I,B,H,O,W,X,q,Y,j,F,R,U,V,Q,G,K,$,Z,J,tt,et,it,nt,st,at,ot,lt,rt,ut,dt,ct,ht,ft,pt,mt,vt,gt,yt;var _t,bt,St,xt,Pt,Et,wt}(t,t.document);t.lazySizes=i,"object"==typeof module&&module.exports&&(module.exports=i)}(window),function(t,e){var i=function(){e(t.lazySizes),t.removeEventListener("lazyunveilread",i,!0)};e=e.bind(null,t,t.document),"object"==typeof module&&module.exports?e(require("lazysizes")):t.lazySizes?i():t.addEventListener("lazyunveilread",i,!0)}(window,function(e,t,r){"use strict";if(e.addEventListener){var u,o=/^picture$/i,i=t.documentElement,s=(v=/(([^,\s].[^\s]+)\s+(\d+)(w|h)(\s+(\d+)(w|h))?)/g,g=function(t,e,i,n,s,a,o,l){m.push({c:e,u:i,w:1*("w"==l?o:n)})},function(t){return m=[],t.replace(v,g),m}),d=(a=function(t,e){return t.w-e.w},p=function(t,e){var i={srcset:t.getAttribute(r.cfg.srcsetAttr)||""},n=s(i.srcset);return Object.defineProperty(t,e,{value:i,writable:!0}),i.cands=n,i.index=0,i.dirty=!1,n[0]&&n[0].w?(n.sort(a),i.cSrcset=[n[i.index].c]):(i.cSrcset=i.srcset?[i.srcset]:[],i.cands=[]),i},function(t,e){var i,n,s,a;if(!t[e]&&(a=t.parentNode||{},t[e]=p(t,e),t[e].isImg=!0,o.test(a.nodeName||"")))for(t[e].picture=!0,n=0,s=(i=a.getElementsByTagName("source")).length;n<s;n++)p(i[n],e).isImg=!1;return t[e]}),l={_lazyOptimumx:function(t,e,i){var n,s,a,o,l,r,u;for(n=0;n<t.cands.length;n++)if((s=t.cands[n]).d=(s.w||1)/e,!(t.index>=n)){if(!(s.d<=i)&&(a=t.cands[n-1],o=s.d,l=i,u=r=void 0,a&&a.d&&(u=.7<l?.6:.4,a.d>=l||((r=Math.pow(a.d-u,1.6)||.1)<.1?r=.1:3<r&&(r=3),!(a.d+(o-l)*r<l)))))break;t.cSrcset.push(s.c),t.index=n}}},c=(f=function(t,e,i,n,s){var a,o=t[s];o&&(a=o.index,l[s](o,e,i),o.dirty&&a==o.index||(o.cSrcset.join(", "),t.setAttribute(n,o.cSrcset.join(", ")),o.dirty=!0))},function(t,e,i,n,s){var a,o,l,r,u=t[s];if(u.width=e,u.picture&&(o=t.parentNode))for(r=0,l=(a=o.getElementsByTagName("source")).length;r<l;r++)f(a[r],e,i,n,s);f(t,e,i,n,s)}),h=function(t){var e=t.getAttribute("data-optimumx")||t.getAttribute("data-maxdpr");return!e&&u.constrainPixelDensity&&(e="auto"),e&&(e="auto"==e?u.getOptimumX(t):parseFloat(e,10)),e},n=function(){r&&!r.getOptimumX&&(r.getX=h,r.pWS=s,i.removeEventListener("lazybeforeunveil",n))};i.addEventListener("lazybeforeunveil",n),setTimeout(n),(u=r&&r.cfg||e.lazySizesConfig)||(u={},e.lazySizesConfig=u),"function"!=typeof u.getOptimumX&&(u.getOptimumX=function(){var t=e.devicePixelRatio||1;return 2.6<t?t*=.6:1.9<t?t*=.8:t-=.01,Math.min(Math.round(100*t)/100,2)}),e.devicePixelRatio&&addEventListener("lazybeforesizes",function(t){if(t.detail.instance==r){var e,i,n,s,a=t.target,o=t.detail,l=o.dataAttr;t.defaultPrevented||!(e=h(a))||e>=devicePixelRatio||(!l||!a._lazyOptimumx||o.reloaded||u.unloadedClass&&r.hC(a,u.unloadedClass)||(a._lazyOptimumx=null),i=d(a,"_lazyOptimumx"),(n=o.width)&&(i.width||0)<n&&(s=l?r.cfg.srcsetAttr:"srcset",r.rAF(function(){c(a,n,e,s,"_lazyOptimumx")})))}})}var f,a,p,m,v,g}),function(){!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.viewportUnitsBuggyfill=e()}(this,function(){"use strict";var r,u,n,i,t,a=!1,e=window.navigator.userAgent,d=/([+-]?[0-9.]+)(vh|vw|vmin|vmax)/g,s=/(https?:)?\/\//,o=[].forEach,l=/MSIE [0-9]\./i.test(e),c=/MSIE [0-8]\./i.test(e),h=-1<e.indexOf("Opera Mini"),f=/(iPhone|iPod|iPad).+AppleWebKit/i.test(e)&&((t=e.match(/OS (\d)/))&&1<t.length&&parseInt(t[1])<10),p=-1<e.indexOf(" Android ")&&-1<e.indexOf("Version/")&&parseFloat((e.match("Android ([0-9.]+)")||[])[1])<=4.4;l||(l=!!navigator.userAgent.match(/MSIE 10\.|Trident.*rv[ :]*1[01]\.| Edge\/1\d\./));try{new m("test")}catch(t){var m=function(t,e){var i;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(i=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i};m.prototype=window.Event.prototype,window.CustomEvent=m}function v(){a&&(g(),setTimeout(function(){i.textContent=_(),i.parentNode.appendChild(i),window.dispatchEvent(new m("viewport-units-buggyfill-style"))},1))}function g(){return n=[],o.call(document.styleSheets,function(t){var e=function(t){try{if(!t.cssRules)return}catch(t){if("SecurityError"!==t.name)throw t;return}for(var e=[],i=0;i<t.cssRules.length;i++){var n=t.cssRules[i];e.push(n)}return e}(t);e&&"patched-viewport"!==t.ownerNode.id&&"ignore"!==t.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(t.media&&t.media.mediaText&&window.matchMedia&&!window.matchMedia(t.media.mediaText).matches||o.call(e,y))}),n}function y(i){if(7===i.type){var t;try{t=i.cssText}catch(t){return}return d.lastIndex=0,void(d.test(t)&&!s.test(t)&&(n.push([i,null,t]),r.hacks&&r.hacks.findDeclarations(n,i,null,t)))}if(i.style)o.call(i.style,function(t){var e=i.style.getPropertyValue(t);i.style.getPropertyPriority(t)&&(e+=" !important"),d.lastIndex=0,d.test(e)&&(n.push([i,t,e]),r.hacks&&r.hacks.findDeclarations(n,i,t,e))});else{if(!i.cssRules)return;o.call(i.cssRules,function(t){y(t)})}}function _(){var t,e;t=window.innerHeight,e=window.innerWidth,u={vh:t,vw:e,vmax:Math.max(e,t),vmin:Math.min(e,t)};var s,a,o=[],l=[];return n.forEach(function(t){var e=function(t,e,i){var n,s=[];n=i.replace(d,b),r.hacks&&(n=r.hacks.overwriteDeclaration(t,e,n));e&&(s.push(t.selectorText),n=e+": "+n+";");var a=t.parentRule;for(;a;)a.media?s.unshift("@media "+a.media.mediaText):a.conditionText&&s.unshift("@supports "+a.conditionText),a=a.parentRule;return{selector:s,content:n}}.apply(null,t),i=e.selector.length?e.selector.join(" {\n")+" {\n":"",n=new Array(e.selector.length+1).join("\n}");if(!i||i!==s)return l.length&&(o.push(s+l.join("\n")+a),l.length=0),void(i?(s=i,a=n,l.push(e.content)):(o.push(e.content),a=s=null));i&&!s&&(s=i,a=n),l.push(e.content)}),l.length&&o.push(s+l.join("\n")+a),h&&o.push("* { content: normal !important; }"),o.join("\n\n")}function b(t,e,i){var n=u[i];return parseFloat(e)/100*n+"px"}function S(t){return t.slice(0,t.indexOf("/",t.indexOf("://")+3))}return{version:"0.6.1",findProperties:g,getCss:_,init:function(t){if(!a){if(!0===t&&(t={force:!0}),(r=t||{}).isMobileSafari=f,r.isBadStockAndroid=p,!r.ignoreVmax||r.force||c||(l=!1),c||!r.force&&!f&&!l&&!p&&!h&&(!r.hacks||!r.hacks.required(r)))return window.console&&c&&console.info("viewport-units-buggyfill requires a proper CSSOM and basic viewport unit support, which are not available in IE8 and below"),{init:function(){}};var e,n,s;window.dispatchEvent(new m("viewport-units-buggyfill-init")),r.hacks&&r.hacks.initialize(r),a=!0,(i=document.createElement("style")).id="patched-viewport",document[r.appendToBody?"body":"head"].appendChild(i),e=function(){var i,n,s,t=(i=v,n=r.refreshDebounceWait||100,function(){var t=this,e=arguments;clearTimeout(s),s=setTimeout(function(){i.apply(t,e)},n)});window.addEventListener("orientationchange",t,!0),window.addEventListener("pageshow",t,!0),(r.force||l||function(){try{return window.self!==window.top}catch(t){return!0}}())&&(window.addEventListener("resize",t,!0),r._listeningToResize=!0),r.hacks&&r.hacks.initializeEvents(r,v,t),v()},n=0,s=function(){--n||e()},o.call(document.styleSheets,function(t){var e,i;t.href&&S(t.href)!==S(location.href)&&"ignore"!==t.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(n++,e=t.ownerNode,i=s,function(t,e,i){var n=new XMLHttpRequest;if("withCredentials"in n)n.open("GET",t,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");(n=new XDomainRequest).open("GET",t)}n.onload=e,n.onerror=i,n.send()}(e.href,function(){var t=document.createElement("style");t.media=e.media,t.setAttribute("data-href",e.href),t.textContent=this.responseText,e.parentNode.replaceChild(t,e),i()},i))}),n||e()}},refresh:v}})}(),function(t){"use strict";"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):t(jQuery,window,document)}(function(b,S,x,P){"use strict";if(!S.history.pushState)return b.fn.smoothState=function(){return this},void(b.fn.smoothState.options={});if(!b.fn.smoothState){var E=b("html, body"),w=S.console,k={isExternal:function(t){var e=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof e[1]&&0<e[1].length&&e[1].toLowerCase()!==S.location.protocol||"string"==typeof e[2]&&0<e[2].length&&e[2].replace(new RegExp(":("+{"http:":80,"https:":443}[S.location.protocol]+")?$"),"")!==S.location.host},stripHash:function(t){return t.replace(/#.*/,"")},isHash:function(t,e){e=e||S.location.href;var i=-1<t.indexOf("#"),n=k.stripHash(t)===k.stripHash(e);return i&&n},translate:function(t){var e={dataType:"html",type:"GET"};return t="string"==typeof t?b.extend({},e,{url:t}):b.extend({},e,t)},shouldLoadAnchor:function(t,e,i){var n=t.prop("href");return!(k.isExternal(n)||k.isHash(n)||t.is(e)||t.prop("target")||typeof i!==P&&""!==i&&-1===t.prop("href").search(i))},clearIfOverCapacity:function(t,e){return Object.keys||(Object.keys=function(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),Object.keys(t).length>e&&(t={}),t},storePageIn:function(t,e,i,n,s){var a=b("<html></html>").append(b(i));return t[e]={status:"loaded",title:a.find("title").first().text(),html:a.find("#"+n),doc:i,state:s},t},triggerAllAnimationEndEvent:function(e,t){t=" "+t||"";var i=0;e.on("animationstart webkitAnimationStart oanimationstart MSAnimationStart",function(t){b(t.delegateTarget).is(e)&&(t.stopPropagation(),i++)}),e.on("animationend webkitAnimationEnd oanimationend MSAnimationEnd",function(t){b(t.delegateTarget).is(e)&&(t.stopPropagation(),0==--i&&e.trigger("allanimationend"))}),e.on("allanimationend"+t,function(){i=0,k.redraw(e)})},redraw:function(t){t.height()}},i=function(t,l){var e,r=b(t),u=r.prop("id"),n=null,s=!1,d={},c={},i=S.location.href,h=function(t){(t=t||!1)&&d.hasOwnProperty(t)?delete d[t]:d={},r.data("smoothState").cache=d},f=function(t,e){e=e||b.noop;var i=k.translate(t);if(!(d=k.clearIfOverCapacity(d,l.cacheLength)).hasOwnProperty(i.url)||void 0!==i.data){d[i.url]={status:"fetching"};var n=b.ajax(i);n.done(function(t){k.storePageIn(d,i.url,t,u),r.data("smoothState").cache=d}),n.fail(function(){d[i.url].status="error"}),e&&n.always(e)}},p=function(t){var e="#"+u,i=d[t]?b(d[t].html.html()):null;i.length?(x.title=d[t].title,r.data("smoothState").href=t,l.loadingClass&&E.removeClass(l.loadingClass),l.onReady.render(r,i),r.one("ss.onReadyEnd",function(){s=!1,l.onAfter(r,i),l.scroll&&function(){if(n){var t=b(n,r);if(t.length){var e=t.offset().top;E.scrollTop(e)}n=null}}()}),S.setTimeout(function(){r.trigger("ss.onReadyEnd")},l.onReady.duration)):!i&&l.debug&&w?w.warn("No element with an id of "+e+" in response from "+t+" in "+d):S.location=t},a=function(t,e,i){var n=k.translate(t);void 0===e&&(e=!0),void 0===i&&(i=!0);var s=!1,a=!1,o={loaded:function(){var t=s?"ss.onProgressEnd":"ss.onStartEnd";a&&s?a&&p(n.url):r.one(t,function(){p(n.url),i||h(n.url)}),e&&(c=l.alterChangeState({id:u},d[n.url].title,n.url),d[n.url].state=c,S.history.pushState(c,d[n.url].title,n.url)),a&&!i&&h(n.url)},fetching:function(){s||(s=!0,r.one("ss.onStartEnd",function(){l.loadingClass&&E.addClass(l.loadingClass),l.onProgress.render(r),S.setTimeout(function(){r.trigger("ss.onProgressEnd"),a=!0},l.onProgress.duration)})),S.setTimeout(function(){d.hasOwnProperty(n.url)&&o[d[n.url].status]()},10)},error:function(){l.debug&&w?w.log("There was an error loading: "+n.url):S.location=n.url}};l.onBefore(n,r),d.hasOwnProperty(n.url)||f(n),l.onStart.render(r),S.setTimeout(function(){l.scroll&&E.scrollTop(0),r.trigger("ss.onStartEnd")},l.onStart.duration),o[d[n.url].status]()},o=function(t){var e,i=b(t.currentTarget);k.shouldLoadAnchor(i,l.blacklist,l.hrefRegex)&&!s&&(t.stopPropagation(),e=k.translate(i.prop("href")),e=l.alterRequest(e),f(e))},m=function(t){var e=b(t.currentTarget);if(!t.metaKey&&!t.ctrlKey&&k.shouldLoadAnchor(e,l.blacklist,l.hrefRegex)&&(t.stopPropagation(),t.preventDefault(),!y())){_();var i=k.translate(e.prop("href"));s=!0,n=e.prop("hash"),i=l.alterRequest(i),l.onAction(e,r),a(i)}},v=function(t){var e=b(t.currentTarget);if(!e.is(l.blacklist)&&(t.preventDefault(),t.stopPropagation(),!y())){_();var i={url:e.prop("action"),data:e.serialize(),type:e.prop("method")};s=!0,"get"===(i=l.alterRequest(i)).type.toLowerCase()&&(i.url=i.url+"?"+i.data),l.onAction(e,r),a(i,P,l.allowFormCaching)}},g=0,y=function(){var t=null===l.repeatDelay,e=parseInt(Date.now())>g;return!(t||e)},_=function(){g=parseInt(Date.now())+parseInt(l.repeatDelay)};return l=b.extend({},b.fn.smoothState.options,l),null===S.history.state?(c=l.alterChangeState({id:u},x.title,i),S.history.replaceState(c,x.title,i)):c={},k.storePageIn(d,i,x.documentElement.outerHTML,u,c),k.triggerAllAnimationEndEvent(r,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),e=r,l.anchors&&(e.on("click",l.anchors,m),l.prefetch&&e.find(l.anchors).not(l.prefetchBlacklist).on(l.prefetchOn,null,o)),l.forms&&e.on("submit",l.forms,v),{href:i,cache:d,clear:h,load:a,fetch:f,restartCSSAnimations:function(){var t=r.prop("class");r.removeClass(t),k.redraw(r),r.addClass(t)}}};S.onpopstate=function(t){if(null!==t.state){var e=S.location.href,i=b("#"+t.state.id).data("smoothState"),n=i.href!==e&&!k.isHash(e,i.href),s=i.cache[i.href]&&event.state!==i.cache[i.href].state;(n||s)&&(s&&i.clear(i.href),i.load(e,!1))}},b.smoothStateUtility=k,b.fn.smoothState=function(e){return this.each(function(){var t=this.tagName.toLowerCase();this.id&&"body"!==t&&"html"!==t&&!b.data(this,"smoothState")?b.data(this,"smoothState",new i(this,e)):!this.id&&w?w.warn("Every smoothState container needs an id but the following one does not have one:",this):"body"!==t&&"html"!==t||!w||w.warn("The smoothstate container cannot be the "+this.tagName+" tag")})},b.fn.smoothState.options={debug:!1,anchors:"a",hrefRegex:"",forms:"form",allowFormCaching:!1,repeatDelay:500,blacklist:".no-smoothState",prefetch:!1,prefetchOn:"mouseover touchstart",prefetchBlacklist:".no-prefetch",cacheLength:0,loadingClass:"is-loading",scroll:!0,alterRequest:function(t){return t},alterChangeState:function(t,e,i){return t},onAction:function(t,e){},onBefore:function(t,e){},onStart:{duration:0,render:function(t){}},onProgress:{duration:0,render:function(t){}},onReady:{duration:0,render:function(t,e){t.html(e)}},onAfter:function(t,e){}}}});