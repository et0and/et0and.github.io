function msToTime(e){if(e){parseInt(e%1e3/100);var t=parseInt(e/1e3%60),i=parseInt(e/6e4%60),n=parseInt(e/36e5%24);return n=n<10?"0"+n:n,i=i<10?"0"+i:i,t=t<10?"0"+t:t,output="","00"!=n&&(output+=n+":"),output+=i+":",output+=t,output}return"00:00"}jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeInCubic:function(e,t,i,n,o){return n*(t/=o)*t*t+i},easeOutCubic:function(e,t,i,n,o){return n*((t=t/o-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInExpo:function(e,t,i,n,o){return 0==t?i:n*Math.pow(2,10*(t/o-1))+i},easeOutExpo:function(e,t,i,n,o){return t==o?i+n:n*(1-Math.pow(2,-10*t/o))+i},easeInOutExpo:function(e,t,i,n,o){return 0==t?i:t==o?i+n:(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(2-Math.pow(2,-10*--t))+i}}),Element.prototype.appendAfter=function(e){e.parentNode.insertBefore(this,e.nextSibling)},Element.prototype.appendBefore=function(e){e.parentNode.insertBefore(this,e)};var target,slider,smoothState,width=$(window).width(),height=$(window).height(),isMobile=!1,sliders=[],eventSliders=[],iScroll=[],$root="/";$(function(){var n={init:function(){console.log("DESIGN + CODE","www.httb.eu"),$(window).resize(function(e){n.sizeSet()}),$(document).ready(function(e){$body=e("body"),$container=e("#container"),n.sizeSet(),n.interact(),n.smoothState("#main",$container),window.viewportUnitsBuggyfill.init(),e(document).keyup(function(e){27===e.keyCode&&n.goBack()}),e(window).load(function(){e(".loader").hide()})})},sizeSet:function(){width=$(window).width(),height=$(window).height(),width<=1024&&(isMobile=!0),isMobile&&(n.iScroll.disable(),1024<width&&(isMobile=!1,n.iScroll.enable()))},interact:function(){n.audioPlayer.amplitude.init(),n.loadSlider(),n.loadEventSliders(),n.iScroll.init(),Marquee3k.init({selector:".marquee"}),n.eventTargets(),n.headroom(),n.embedKirby()},headroom:function(){if(!isMobile){var e=document.querySelector("header");new Headroom(e).init(),e.addEventListener("mouseenter",function(){e.classList.contains("headroom--unpinned")&&(e.classList.add("headroom--pinned"),e.classList.remove("headroom--unpinned"))})}},embedKirby:function(){for(var e=function(){var e=this.parentNode,t=e.children[0];t.src=t.dataset.src,e.removeChild(this)},t=document.getElementsByClassName("embed__thumb"),i=0;i<t.length;i++)t[i].addEventListener("click",e,!1)},eventTargets:function(){$("[event-target=intro]").click(function(e){e.preventDefault(),href=this.getAttribute("href"),""!==href&&href!==window.location.href?(smoothState.load(href),timeout=300):timeout=0,setTimeout(function(){$("#intro").remove()},timeout)}),$("[event-target=catalogue]").click(function(e){e.preventDefault()}),$("[event-target=catalogue], #quick-catalogue").hover(function(){isMobile||($body[0].classList.add("quick-catalogue--on"),document.querySelector("[event-target=catalogue]").classList.add("opened"))},function(){isMobile||($body[0].classList.remove("quick-catalogue--on"),document.querySelector("[event-target=catalogue]").classList.remove("opened"))}),$("[event-target=mobile-menu]").click(function(e){e.preventDefault(),$body[0].classList.toggle("mobile-menu--on"),this.classList.toggle("opened")}),$(".section-switch[event-target]").click(function(e){document.querySelector("[current-section]").setAttribute("current-section",this.getAttribute("event-target"))})},audioPlayer:{amplitude:{init:function(){if(document.getElementById("player")&&"undefined"!=typeof songs){Amplitude.init({bindings:{37:"prev",39:"next",32:"play_pause"},songs:songs,playlists:{release:[1]}});var t=document.getElementById("player"),i=document.getElementById("duration");$("[page-type=release] .track").click(function(e){t.style.display="block"}),$("[page-type=radio] .track").click(function(e){i&&(i.innerHTML=this.getAttribute("data-duration")),t.style.display="block"}),$("[page-type=radio] .amplitude-play-pause").click(function(e){t.style.display="block",t.appendBefore($(this).parents(".track-container").find(".controls-toggle")[0]),duration=this.getAttribute("data-duration"),i&&(i.innerHTML=this.getAttribute("data-duration"))}),document.getElementById("progress-container").addEventListener("click",function(e){var t=this.getBoundingClientRect(),i=e.pageX-t.left;Amplitude.setSongPlayedPercentage(parseFloat(i)/parseFloat(this.offsetWidth)*100)})}}}},iScroll:{init:function(){if(iScroll=[],!isMobile)for(var e=document.querySelectorAll("[data-scroll]"),t=e.length-1;0<=t;t--)iScroll[t]=new IScroll(e[t],{mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0,preventDefault:!1})},enable:function(){for(var e=iScroll.length-1;0<=e;e--)iScroll[e].enable()},disable:function(){for(var e=iScroll.length-1;0<=e;e--)iScroll[e].disable()},refresh:function(){for(var e=iScroll.length-1;0<=e;e--)iScroll[e].refresh()}},loadSlider:function(){if(slider&&(slider.destroy(),slider=null),slider=document.querySelector(".slider")){if((slider=new Flickity(slider,{cellSelector:".slide",imagesLoaded:!0,lazyLoad:2,setGallerySize:!0,accessibility:!0,wrapAround:!0,prevNextButtons:!0,pageDots:!1,draggable:!0})).slidesCount=slider.slides.length,slider.slidesCount<1)return;slider.on("select",function(){var e=slider.getAdjacentCellElements(2);$(e).find('.lazy:not(".lazyloaded")').addClass("lazyload")}),slider.on("staticClick",function(e,t,i,n){i&&slider.next()}),isMobile||($(slider.element).on("mouseenter",function(){slider.next()}),$(slider.element).on("mouseleave",function(){slider.select(0)}))}},loadEventSliders:function(){if(0<sliders.length){for(var e=0;e<sliders.length;e++)sliders[e].destroy();sliders=[]}if(sliderElements=document.querySelectorAll(".event-slider"),0<sliderElements.length)for(e=0;e<sliderElements.length;e++){if(sliders[e]=new Flickity(sliderElements[e],{cellSelector:".slide",imagesLoaded:!0,lazyLoad:1,setGallerySize:!0,adaptiveHeight:!0,accessibility:!0,wrapAround:!0,prevNextButtons:!isMobile,pageDots:!1,draggable:isMobile}),sliders[e].slidesCount=sliders[e].slides.length,sliders[e].slidesCount<1)return;sliders[e].on("select",function(){var e=this.getAdjacentCellElements(1);$(e).find('.lazy:not(".lazyloaded")').addClass("lazyload")}),sliders[e].on("staticClick",function(e,t,i,n){i&&this.next()})}},goIndex:function(){},goBack:function(){window.history&&0<history.length&&!$body.hasClass("projects")?window.history.go(-1):$("#site-title a").click()},smoothState:function(e,t){var i={debug:!0,scroll:!1,anchors:"[data-target]",loadingClass:!1,prefetch:!0,cacheLength:4,onAction:function(e,t){"back"===target&&n.goBack(),Amplitude.pause()},onBefore:function(e,t){},onStart:{duration:0,render:function(e){$body.addClass("is-loading")}},onReady:{duration:0,render:function(e,t){$(window).scrollTop(0),$body.attr("page-type",t.find("#page-content").attr("page-type")),e.html(t)}},onAfter:function(e,t){n.interact(),setTimeout(function(){$body.removeClass("is-loading quick-catalogue--on mobile-menu--on"),smoothState.clear()},10)}};smoothState=$(e).smoothState(i).data("smoothState")}};n.init()});
//# sourceMappingURL=app.min.js.map